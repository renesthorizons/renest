<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TGZL6PTS');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Renest - Unlocking Savings For Working Students | Tax Benefits for Students</title>
    <meta name="title" content="Renest - Graduate Student Savings Platform | Tax Benefits for Students">
    <meta name="description" content="Unlock state tax benefits and refunds on graduate student expenses including rent and food. Maximize your education savings with automated 529 account management.">
    <meta name="keywords" content="graduate student savings, 529 account, student tax benefits, education expenses, student refunds, graduate school savings">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.renesthorizons.com/">
    <meta property="og:title" content="Renest - Graduate Student Savings Platform | Tax Benefits for Students">
    <meta property="og:description" content="Unlock state tax benefits and refunds on graduate student expenses including rent and food. Maximize your education savings with automated 529 account management.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.renesthorizons.com/">
    <meta property="twitter:title" content="Renest - Graduate Student Savings Platform | Tax Benefits for Students">
    <meta property="twitter:description" content="Unlock state tax benefits and refunds on graduate student expenses including rent and food. Maximize your education savings with automated 529 account management.">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="Renest">
    <link rel="canonical" href="https://www.renesthorizons.com/">
    
    <!-- Favicon -->
    <link rel="icon" href="blogo2.png" type="image/png">
    <link rel="apple-touch-icon" href="blogo2.png">

    <!-- Schema.org Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Renest",
      "url": "https://www.renesthorizons.com",
      "logo": "https://www.renesthorizons.com/blogo2.png",
      "description": "Renest helps working students maximize their tax benefits through automated 529 account management, unlocking refunds on qualified education expenses including rent and food.",
    }

    </script>
    <style>
        :root {
            --primary: #4B227A;
            --accent: #FF69B4;
            --text-dark: #1E0A3C;
            --background: #FFFFFF;
            --primaryaccount: #6366F1
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background-color: var(--background);
        }

        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: white;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-links {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            padding: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            flex-direction: column;
            gap: 1rem;
        }

        .nav-links a {
            color: var(--text-dark);
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: block;
            font-weight: 500;
        }

        .nav-links a:hover {
            background-color: rgba(75, 34, 122, 0.05);
            transform: translateX(5px);
        }

        .nav-links .talk-button {
            background-color: var(--primary);
            color: white !important;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;
            margin-top: 0.5rem;
        }
        .nav-links .talk-button {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

       .nav-links .talk-button:hover {
            background: linear-gradient(45deg, #4B227A, #FF69B4);
            transform: translateY(-2px);
        }

         @media (min-width: 768px) {
            .menu-button {
                display: none;
            }

            .nav-links {
                position: static;
                display: flex !important;
                flex-direction: row;
                padding: 0;
                box-shadow: none;
                gap: 0;
                align-items: center;
            }

            .nav-links a {
                margin-left: 2rem;
                padding: 0.5rem 1rem;
            }

            .faq-section {
                padding: 6rem 2rem;
            }
        }

        

        .email-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 500px;
        }

        .email-input {
            padding: 1rem;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
        }

        .submit-button {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
        }

        .submit-button:hover {
            background-color: var(--primary);
            background-position: 100% 100% !important;
            transform: translateY(-2px);
        }

        .newsletter {
            padding: 4rem 1rem;
            text-align: center;
            background-color: #f8f8f8;
        }

        .newsletter h2 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .footer {
             background-color: rgb(235, 232, 252,.5);
            padding: 3rem 1rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .footer-logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .social-links a {
            color: var(--primary);
            text-decoration: none;
        }

        .footer-links h3 {
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .footer-links a {
            display: block;
            color: var(--text-dark);
            text-decoration: none;
            margin-bottom: 0.5rem;
        }
        

        .copyright {
            color: var(--text-dark);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        @media (min-width: 768px) {
            .nav-links {
                display: flex;
                align-items: center;
            }

            .menu-button {
                display: none;
            }

            .footer-content {
                grid-template-columns: 2fr 1fr 1fr;
            }

            .email-form {
                flex-direction: row;
            }

            .email-input {
                flex: 1;
            }
        }
        .benefits {
            padding: 4rem 1rem;
            background-color: white;
        }

        .benefits-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.benefit-card {
    background-color: white;
    padding: 2rem;
    border-radius: 8px;
    position: relative;
}

.benefit-card .image-container {
    position: relative;
    width: 140px;
    height: 140px;
    margin: 0 auto 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.image-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120px;
    height: 120px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
}

/* Student Loans Card */
.benefit-card:nth-child(1) .image-container::before {
    background: radial-gradient(circle closest-side, 
        rgba(225, 255, 225, 0.9) 0%,
        rgba(225, 255, 225, 0.7) 30%, 
        rgba(225, 255, 225, 0.4) 60%,
        rgba(255, 228, 225, 0) 100%
    );
}

/* Groceries Card */
.benefit-card:nth-child(2) .image-container::before {
    background: radial-gradient(circle closest-side,
        rgba(255, 240, 220, 0.9) 0%,
        rgba(255, 240, 220, 0.7) 30%,
        rgba(255, 240, 220, 0.4) 60%,
        rgba(255, 240, 220, 0) 100%
    );
}

/* Savings Card */
.benefit-card:nth-child(3) .image-container::before {
    background: radial-gradient(circle closest-side,
        rgba(255, 220, 249, 0.9) 0%,
        rgba(255, 220, 249, 0.7) 30%,
        rgba(255, 220, 249, 0.4) 60%,
        rgba(253, 220, 255, 0) 100%
    );
}

.benefit-card img {
    width: 100px;
    height: auto;
    position: relative;
    z-index: 1;
}

.benefit-title {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
    text-align: center;
}

.benefit-card p {
    text-align: center;
}



        .universities {
            padding: 4rem 1rem;
            background-color: #f8f8f8;
        }

        .universities-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .university-card {
            background-color: white;
            padding: 1rem;
            border-radius: 4px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 2rem;
            color: var(--text-dark);
            margin-bottom: 2rem;
            text-align: center;
        }

        .section-subtitle {
            font-size: 1.5rem;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
        }

        .text-emphasis {
            color: var(--primary);
            font-weight: 600;
        }

        @media (min-width: 768px) {
            .benefits-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .universities-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        .logo-scroller {
            padding: 1rem 1rem;
            background-color: #f8f8f8;
            overflow: hidden;
        }

        .logo-scroller h2 {
            text-align: center;
            font-size: 1.8rem;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
        }

        .logo-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding: 5px 0;
        }

        .logo-track {
            display: flex;
            animation: scroll 30s linear infinite;
            width: max-content;
        }

        /*.logo-track:hover {
            animation-play-state: paused;
        }*/

        .logo-item {
            flex: 0 0 auto;
            width: 200px;
            height: 80px;
            margin: 0 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-item img {
            max-width: 80%;
            max-height: 60%;
            object-fit: contain;
        }

        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        /* Add a gradient overlay for smooth fade at edges */
        .logo-container::before,
        .logo-container::after {
            content: "";
            position: absolute;
            top: 0;
            height: 100%;
            width: 100px;
            z-index: 2;
        }

        .logo-container::before {
            left: 0;
            background: linear-gradient(to right, #f8f8f8 0%, transparent 100%);
        }

        .logo-container::after {
            right: 0;
            background: linear-gradient(to left, #f8f8f8 0%, transparent 100%);
        }
        .how-it-works {
            padding: 2rem 1rem;
            background-color: white;
            overflow-x: hidden;
        }

        .gradient-card {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 3rem;
            background: #fffaf0;
            border-radius: 24px;
            position: relative;
            box-shadow: 0px 0px 8px 8px rgba(75, 34, 122, 0.3);
        }

        /* New pop-out border style */
        .gradient-card::before {
            content: '';
            position: absolute;
           /* top: 0;
            left: 0;*/
            width: 100%;
            height: 100%;
            /*border-radius: 24px;
            border-left: 4px solid;
            border-top: 4px solid;
            border-image: linear-gradient(45deg, #4B227A, #FF69B4) 1;*/
            pointer-events: none;
        }

        .info-box {
            background: linear-gradient(45deg, rgba(75, 34, 122, 0.05), rgba(255, 105, 180, 0.05));
            padding: 2rem;
            border-radius: 16px;
            margin: 2rem auto;
            max-width: 800px;
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.6s ease-out;
        }

        .info-box.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .timeline-steps {
            max-width: 800px;
            margin: 4rem auto;
            position: relative;
            padding-left: 85px;
        }

        .timeline-steps::before {
            content: '';
            position: absolute;
            left: 29px;
            top: 40px;
            bottom: 40px;
            width: 3px;
            background: #eaeaea;
            z-index:    2;
            border-radius: 4px;
        }

        /* Add the animated line overlay */
        .timeline-line {
            position: absolute;
            left: 29px;
            top: 40px;
            width: 3px;
            height: 0;
            z-index:    2;
            background: linear-gradient(to bottom, #4B227A, #FF69B4);
            border-radius: 4px;
            transition: height 2.5s ease-out;
        }

        .timeline-step {
            position: relative;
            padding-bottom: 3rem;
            opacity: 0;
            z-index:    5;
            transform: translateX(-30px);
            transition: all 0.6s ease-out;
        }

        .timeline-step.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .timeline-step:last-child {
            padding-bottom: 0;
        }

        .timeline-number {
            position: absolute;
            left: -85px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #4B227A, #FF69B4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index:    5;
            font-size: 1.4rem;
            box-shadow: 0 4px 12px rgba(75, 34, 122, 0.2);
        }

        .timeline-content {
            padding: 2rem 2.5rem;
            border-radius: 16px;
            background: white;
            box-shadow: 0 4px 16px rgba(75, 34, 122, 0.08);
            border: 1px solid rgba(75, 34, 122, 0.1);
        }

        .timeline-content h4 {
            color: #4B227A;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .case-study {
            max-width: 800px;
            margin: 1rem auto 0;
            padding: 2rem;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 24px rgba(75, 34, 122, 0.1);
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        

        .case-study.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .case-study-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 2rem;
        }

        .case-study-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: rgba(75, 34, 122, 0.05);
            border-radius: 12px;
            font-size: 1.1rem;
        }

        .text-emphasis {
            color: #4B227A;
            font-weight: 600;
            font-size: 1.3rem;
        }

        .savings-highlight {
            background: linear-gradient(45deg, #4B227A, #FF69B4);
            color: white;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            margin-top: 2rem;
            box-shadow: 0 4px 16px rgba(75, 34, 122, 0.2);
        }

        .section-title {
            font-size: 2.5rem;
            color: #1E0A3C;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 700;
        }

        .benefit-card h4 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        @media (max-width: 768px) {
            .timeline-steps {
                padding-left: 65px;
            }
            
            .timeline-number {
                left: -65px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }

            .case-study-grid {
                grid-template-columns: 1fr;
            }

            .gradient-card {
                padding: 2rem 1rem;
            }
        }
        .menu-button {
            background: none;
            border: 2px solid var(--primary);
            border-radius: 4px;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem 0.75rem;
            color: var(--primary);
            display: block;
            transition: all 0.3s ease;
        }

        .menu-button:hover {
            background: var(--primary);
            color: white;
        }
        @media (min-width: 768px) {
            .menu-button {
                display: none;  /* This hides the menu button on desktop */
            }
        }
        .talk-button {
            background-color: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-block;
            background-image: linear-gradient(45deg, var(--primary) 0%, var(--primary) 100%);
            background-size: 200% 200%;
            background-position: 0% 0%;
            font-weight: 600;
        }

        .talk-button:hover {
            background-image: linear-gradient(45deg, #4B227A, #FF69B4) !important;
            background-position: 100% 100% !important;
            transform: translateY(-2px);
        }

        .nav-links .talk-button {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .how-it-works .talk-button {
            font-size: 1.2rem;
            padding: 1rem 3rem;
            margin-top: 3rem;
        }
        .screenshot-wrapper {
            margin: 2rem -1rem;
            background: transparent;
            padding: 1rem;
            border-radius: 12px;
        }

        .screenshot-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            border-radius: 12px;
            overflow: visible;  /* Changed from hidden to visible to show shadow */
            transition: all 0.3s ease;
        }

        /* Updated styles for screenshots */
        .screenshot-mobile,
        .screenshot-desktop {
            width: 100%;
            height: auto;
            display: none;  /* Hide both by default */
            border-radius: 8px;
            transition: transform 0.3s ease;
            transform: translateY(-15px);
            position: relative;
            z-index: 2;
            outline: 4px solid rgba(0, 0, 0, 0.8);
        }
        @media (max-width: 768px) {
            .screenshot-mobile {
                width: 100%;
                max-width: 100%;
                height: auto;
                margin: 0 auto;
                display: block;
            }
        }

        /* Mobile styles */
        @media (max-width: 768px) {
            .screenshot-mobile {
                display: block;  /* Show mobile screenshots on small screens */
            }
            
            .screenshot-desktop {
                display: none;  /* Hide desktop screenshots on small screens */
            }
        }

        /* Desktop styles */
        @media (min-width: 769px) {
            .screenshot-desktop {
                display: block;  /* Show desktop screenshots on large screens */
            }
            
            .screenshot-mobile {
                display: none;  /* Hide mobile screenshots on large screens */
            }
            
            .screenshot-wrapper {
                margin: 2rem 0;
                padding: 1.5rem;
            }

            .screenshot-container:hover .screenshot-desktop {
                transform: translateY(-20px);
            }
            
            .screenshot-container:hover::after {
                transform: scaleX(0.95);
                opacity: 1;
                background: radial-gradient(
                    ellipse at center,
                    rgba(15, 6, 20, 1) 0%,    /* Even darker center on hover */
                    rgba(30, 12, 40, 0.98) 70%    /* Slightly darker edges on hover */
                );
                filter: blur(10px);  /* Slightly increased blur for hover */
            }
        }

        .screenshot-container::after {
            content: '';
            position: absolute;
            left: 5%;
            right: 5%;
            bottom: -25px;
            height: 4px;
            background: radial-gradient(
                ellipse at center,
                rgba(20, 8, 25, 0.98) 0%,
                rgba(35, 15, 45, 0.98) 70%
            );
            filter: blur(8px);
            border-radius: 50%;
            z-index: 1;
            transition: all 0.3s ease;  /* Added transition for smooth shadow changes */
        }



/*        <-? -->*/
        .screenshot-container2 {
            position: relative;
            padding-bottom: 6rem; /* Increased padding to accommodate caption */
            transition: all 0.3s ease;
        }

        .screenshot-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 12px;
            transition: transform 0.3s ease;
            position: relative;
            z-index: 2;
/*            outline: 4px solid rgba(0, 0, 0, 0.8);*/
            transform: translateY(-15px);
        }

        /* Shadow with more space from image */
        .screenshot-container2::after {
            content: '';
            position: absolute;
            left: 5%;
            right: 5%;
            bottom: 3.5rem;
            height: 4px;
            background: radial-gradient(
                ellipse at center,
                rgba(20, 8, 25, 0.98) 0%,
                rgba(35, 15, 45, 0.98) 70%
            );
            filter: blur(8px);
            border-radius: 50%;
            z-index: 1;
            transition: all 0.3s ease;
        }

        /* Enhanced caption styling and positioning */
        .screenshot-caption {
            position: absolute;
            bottom: 0; /* Reset to 0 */
            left: 0;
            right: 0;
            text-align: center;
            color: #4B227A;
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            padding: 0 1rem;
            z-index: 1;
            text-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        /* Active state adjustments */
        .screenshot-item.active .screenshot-image {
            transform: translateY(-20px);
        }

        .screenshot-item.active .screenshot-caption {
            opacity: 1;
            transform: translateY(0);
        }

        .screenshot-container2::after {
            content: '';
            position: absolute;
            left: 5%;
            right: 5%;
            bottom: -25px;
            height: 4px;
            background: radial-gradient(
                ellipse at center,
                rgba(20, 8, 25, 0.98) 0%,
                rgba(35, 15, 45, 0.98) 70%
            );
            filter: blur(8px);
            border-radius: 50%;
            z-index: 1;
            transition: all 0.3s ease;  /* Added transition for smooth shadow changes */
        }
        @media (min-width: 769px) {
            .screenshot-item {
                flex: 0 0 550px !important;  /* Reduced from 600px */
                min-width: 300px !important;  /* Reduced from 400px */
            }
            
            
            .screenshot-image {
                width: 450px !important;      /* Reduced from 500px */
                transform: translateY(-15px) scale(1) !important; /* Reduced scale from 1.05 */
            }
        }

        /* Desktop styles */
        @media (min-width: 769px) {
            .screenshot-item {
                max-width: none !important;
                padding: 2rem 1rem 1rem;
            }
            
            .screenshot-scroll {
                padding: 4rem 40% !important;   /* Increased padding for better spacing */
                margin: -4rem -40% !important;
            }
            
            .screenshot-image {
               
                max-width: none !important;
                height: auto !important;
               
            }

            .screenshot-container2 {
                overflow: visible !important;
                width: 100% !important;
            }

            .screenshot-gallery {
                overflow: hidden !important;
                max-width: 100vw !important;
            }
        }


        /* Updated Screenshot Gallery Styles */
        

        .screenshot-scroll::-webkit-scrollbar {
            display: none;
        }

        .screenshot-scroll {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            max-width: 100vw;
            padding: 4rem 20%;
            margin: -4rem -20%;
        }

        .screenshot-item {
            flex: 0 0 400px;
            min-width: 300px;
            padding: 2rem 1rem;
            scroll-snap-align: center;
            scroll-snap-stop: always;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        /* Ensure the container is centered on the page */
        .screenshot-gallery {
            margin: 2rem auto;
            padding: 2rem 0;
            max-width: 100%;
            overflow: hidden;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Add smooth transitions for opacity changes */
        .screenshot-item.active {
            opacity: 1;
        }

        /* Add smooth scrolling to all browsers */
        * {
            scroll-behavior: smooth;
        }

        .screenshot-container2 {
            position: relative;
            padding-bottom: 6rem; /* Increased padding to accommodate caption */
            transition: all 0.3s ease;
        }

        .screenshot-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 12px;
            transition: transform 0.3s ease;
            position: relative;
            z-index: 2;
/*            outline: 4px solid rgba(0, 0, 0, 0.8);*/
            transform: translateY(-15px);
        }

        .screenshot-container2::after {
            content: '';
            position: absolute;
            left: 5%;
            right: 5%;
            bottom: 3.5rem;
            height: 4px;
            background: radial-gradient(
                ellipse at center,
                rgba(20, 8, 25, 0.98) 0%,
                rgba(35, 15, 45, 0.98) 70%
            );
            filter: blur(8px);
            border-radius: 50%;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .screenshot-caption {
            position: absolute;
            bottom: 0; /* Reset to 0 */
            left: 0;
            right: 0;
            text-align: center;
            color: #4B227A;
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            padding: 0 1rem;
            z-index: 1;
            text-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        /* Side fade effects */
        .screenshot-gallery::before,
        .screenshot-gallery::after {
            content: "";
            position: absolute;
            top: 0;
            bottom: 0;
            width: 15% !important;
            z-index: 1;
            pointer-events: none;
            transition: opacity 3s ease;
        }

        .screenshot-gallery::before {
            left: 0;
            background: linear-gradient(to right, 
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 255, 255, 0) 100%);
        }

        .screenshot-gallery::after {
            right: 0;
            background: linear-gradient(to left, 
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 255, 255, 0) 100%);
        }
        .screenshot-item.active ~ .screenshot-gallery::before,
.screenshot-item.active ~ .screenshot-gallery::after,
.screenshot-gallery:hover::before,
.screenshot-gallery:hover::after {
    opacity: 0;
}

        /* Active states */
        .screenshot-item.active {
            opacity: 1;
        }

        .screenshot-item.active .screenshot-image {
            transform: translateY(-20px);
        }

        .screenshot-item.active .screenshot-caption {
            opacity: 1;
            transform: translateY(0);
        }

        .screenshot-item.active .screenshot-container2::after {
            transform: scaleX(0.95);
            opacity: 1;
            background: radial-gradient(
                ellipse at center,
                rgba(15, 6, 20, 1) 0%,
                rgba(30, 12, 40, 0.98) 70%
            );
            filter: blur(10px);
        }

        @media (max-width: 768px) {
            .screenshot-scroll {
                padding: 4rem 5%;
                margin: -4rem -5%;
            }

            .screenshot-item {
                flex: 0 0 90%;
                min-width: 280px;
                padding: 1rem 0.5rem;
            }

            .screenshot-container2 {
                padding-bottom: 4rem; /* Slightly less padding on mobile */
            }
            .screenshot-caption {
        bottom: 1rem;  /* Moves the caption lower */
        padding: 0 1rem;
        font-size: 1rem;
    }
        }

        /* Add these new styles for mobile/desktop screenshot handling */
    /* Add these styles to your existing CSS */
@media (min-width: 769px) {
    .screenshot-gallery {
        width: 100%;
        max-width: 1200px;
        margin: 1rem auto;
        overflow: visible;
/*        padding: 0;*/
        padding: 2rem 0; 
    }

    .screenshot-caption {
        margin-top: -2rem; /* Moves the caption box up */
        position: relative; /* Helps with precise positioning */
    }

    .screenshot-scroll {
        display: block;
        animation: none;
        width: 100%;
        padding: 0;
        margin: 0;
        transform: none;
    }

    .screenshot-item {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;  /* Increased gap between image and caption */
        align-items: center;
        justify-content: center;
        margin: 0 auto 6rem;
        opacity: 1;
        padding: 0;
        max-width: 1000px;  /* Increased max-width to give more room */
    }

    .screenshot-container2 {
        margin: 0;
        padding: 0;
        width: 100%;
        display: flex;
        justify-content: flex-end;
        position: relative;
        padding-bottom: 30px;
    }

    .screenshot-image {
        max-width: 400px;
        width: 100%;
        height: auto;
        transform: translateY(-15px);
        transition: transform 0.3s ease;
    }

    .screenshot-container2::after {
        content: '';
        position: absolute;
        left: 5%;
        right: 5%;
        bottom: 15px;
        height: 4px;
        background: radial-gradient(
            ellipse at center,
            rgba(20, 8, 25, 0.98) 0%,
            rgba(35, 15, 45, 0.98) 70%
        );
        filter: blur(8px);
        border-radius: 50%;
        z-index: 1;
        transition: all 0.3s ease;
    }

    .screenshot-container2:hover .screenshot-image {
        transform: translateY(-20px);
    }

    .screenshot-container2:hover::after {
        transform: scaleX(0.95);
        opacity: 1;
        background: radial-gradient(
            ellipse at center,
            rgba(15, 6, 20, 1) 0%,
            rgba(30, 12, 40, 0.98) 70%
        );
        filter: blur(10px);
    }

    .screenshot-caption {
/*        position: static;*/
        opacity: 1;
        transform: none;
        text-align: left;
        padding: 2rem;  /* Added padding inside caption */
        font-size: 1.8rem;
        width: 100%;
/*        background: rgba(75, 34, 122, 0.2); */
        min-width: 350px;

/*        border-radius: 16px;  /* Rounded corners */
/*        box-shadow: 0 4px 16px rgba(75, 34, 122, 0.06);  */
    }

    .screenshot-gallery::before,
    .screenshot-gallery::after {
        display: none;
    }

    .screenshot-caption h3 {
        margin-bottom: .2rem;  /* Increased spacing after heading */
        color: #4B227A;
        font-size: 1.8rem;  /* Larger heading */
    }

    .screenshot-caption p {
        color: #4B227A;
        font-weight:    600;
        line-height: 1.7;  /* Increased line height */
        font-size: 1.2rem;  /* Slightly larger text */
    }
    .screenshot-item:last-child {
        margin-bottom: 1rem; /* Reduced from 6rem to 2rem */
    }
}

/* Add these to your existing CSS */
/*.hero {
    position: relative;
    margin-top: 5rem;
    padding: 2rem 1rem;
    background: linear-gradient(45deg, #4B227A, #FF69B4);
    color: white;
    min-height: 65vh;
}*/
        .hero {
            margin-top: 5rem;
            padding: 2rem 1rem;
            background: linear-gradient(45deg, #4B227A, #FF69B4);
            color: white;
            min-height: 65vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
            color: white;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
.hero-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left:    0rem;
}

/* Hide image container by default (mobile) */
.hero-image-container {
    display: none;
    transform: translateX(calc(50vw - 43rem));/* Adjusts vertical position */
}

/* Control image size and position */
.hero-phone {
    width: 300px; /* Controls the width of the phone image */
    height: auto;
    transform:  scale(2);
    object-fit: contain;
    transform: translateY(20px) translateX(50px); /* Adjusts vertical position */
}

/* Desktop styles */
@media (min-width: 768px) {
    .hero-phone{transform:  scale(1.2)}
    .hero {
                padding: 4rem 2rem;
            }

            .hero h1 {
                font-size: 3.5rem;
            }

    .hero-content {
        justify-content: space-between;
        padding: 0 2rem;
    }

    .hero-image-container {
        display: block; /* Show image on desktop */
        flex: 0 0 30%; /* Controls how much space the image takes */
        margin-right: 2rem;
    }

    .hero-text {
        flex: 0 0 85%; /* Controls how much space the text takes */
    }
}
.form-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            margin-top:     2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .progress-step {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index: 1;
        }

        .progress-step.active {
            background: var(--primary);
        }

        .progress-line {
            position: absolute;
            top: 50%;
            left: 10%;
            right: 10%;
            height: 2px;
            background: #e0e0e0;
            transform: translateY(-50%);
        }

        .progress-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--primary);
            width: 0;
            transition: width 0.3s ease;
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 0.5rem;
            font-size: 1rem;
        }

        .btn-container {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent);
        }

        .btn-secondary {
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(75, 34, 122, 0.05);
        }
        .suggestions {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 0.5rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .suggestion-item {
            padding: 0.75rem;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }

        .suggestion-item:hover {
            background-color: rgba(75, 34, 122, 0.05);
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .text-center {
            text-align: center;
        }

        .text-2xl {
            font-size: 1.5rem;
        }

        .font-bold {
            font-weight: bold;
        }

        .my-4 {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .hidden {
            display: none !important;
        }

        .tooltip-content {
          visibility: hidden;
          background-color: white;
          color: var(--text-dark);
          text-align: left;
          padding: 1rem;
          border-radius: 6px;
          border: 1px solid #ddd;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          
          position: absolute;
          z-index: 10;
          width: calc(100vw - 40px);
          max-width: 300px;
          left: 100%;  
          top: -50%;  /* Move it up */
          transform: translate(-100%, -80%);  /* Adjust transform */
          margin-left: -10px;
        }


        .tooltip-icon {
          width: 12px;
          height: 12px;
          background: var(--primary);
          color: white;
          border-radius: 50%;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-size: 10px;
          cursor: help;
        }

        .tooltip:hover .tooltip-content {
          visibility: visible;
        }

        .benefit-amount {
          font-size: 2.5rem;
          color: var(--primary);
          font-weight: bold;
        }

        .benefit-label-container {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

.benefit-label {
  font-size: 1.5rem;
  font-weight: bold;
  margin-right: 12px;
}

.tooltip.inline-block {
  position: relative;
  top: 2px;
}

.tooltip-icon {
  width: 12px;
  height: 12px;
  background: var(--primary);
  color: white;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  cursor: help;
}

.tooltip-content {
  visibility: hidden;
  background-color: white;
  color: var(--text-dark);
  text-align: left;
  padding: 1rem;
  border-radius: 6px;
  border: 1px solid #ddd;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  
  position: absolute;
  z-index: 1;
  width: 300px;
  left: 100%;
  top: 0;
  margin-left: 10px;
}

.tooltip:hover .tooltip-content {
  visibility: visible;
}

.how-it-works {
  max-width: 800px;
  margin: 3rem auto;
  margin-top: 5rem;
  padding: 0 2rem;
}

.tab-container {
  background: white;
  border-radius: 1rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.tab-buttons {
  display: flex;
  border-bottom: 1px solid #e5e7eb;
}

.tab-button {
  flex: 1;
  padding: 1rem;
  font-size: 1.125rem;
  font-weight: 500;
  background: none;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tab-button.active {
  background: #4B227A;
  color: white;
}

.tab-content {
  display: none;
  padding: 0rem;
  background:  white;
}

.tab-content.active {
  display: block;
}

.step-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.step-list li {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.step-list svg {
  flex-shrink: 0;
  margin-top: 0.25rem;
}

.step-description {
  color: #666;
  font-size: 0.875rem;
  margin-top: 0.5rem;
}

.time-estimate {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #666;
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid #e5e7eb;
}

.options-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

@media (min-width: 768px) {
  .options-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}



.option-card {
  background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
  border-radius: 0.5rem;
  padding: 2rem;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  border: 1px solid rgba(75, 34, 122, 0.1);
}




.step-description {
  color: #666;
  font-size: 0.9rem;
  margin-left: .2rem;
  margin-top: 0.25rem;
  margin-bottom: 1rem;
}

.time-estimate {
  display: flex;
  align-items: center;
  color: #666;
  margin-top: 1rem;
}

.time-estimate svg {
  margin-right: 0.5rem;
}

.option-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 1rem;
}

.step-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.step-list li {
  display: flex;
  align-items: flex-start;
  margin-bottom: 1rem;
}

.step-list svg {
  flex-shrink: 0;
  margin-right: 0.75rem;
  margin-top: 0.25rem;
}


.benefit-content-box {
    position: relative;  /* Add this to contain the overlay */
}

.section-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
    backdrop-filter: blur(2px);
}

.overlay-message {
    background: rgba(75, 34, 122, 0.95);
    color: white;
    padding: 1.5rem 3rem;
    border-radius: 12px;
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}



.guarantee {
  font-size: 0.875rem;
  color: var(--primary);
  margin-top: 1rem;
  font-style: italic;
}


.calculator-title {
  font-size: 1.5rem;
  font-weight: bold;
  color: #4B227A;
  text-align: center;
  margin-bottom: 2.5rem;
}

.getst-button {
            background-color: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-block;
            background-image: linear-gradient(45deg, var(--primary) 0%, var(--primary) 100%);
            background-size: 200% 200%;
            background-position: 0% 0%;
            font-weight: 600;
            font-size: 1.2rem;
            padding: 1rem 3rem;
            margin-top: 3rem;
        }

        .getst-button:hover {
            background-image: linear-gradient(45deg, #4B227A, #FF69B4) !important;
            background-position: 100% 100% !important;
            transform: translateY(-2px);
        }



@media (max-width: 768px) {
  .form-container {
    margin: 2rem 1rem;
  }
}
@media (max-width: 768px) {
  .tab-container {
    margin: 0 1rem;
  }
}


.nav-links {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            padding: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            flex-direction: column;
            gap: 1rem;
        }

        .nav-links a {
            color: var(--text-dark);
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: block;
            font-weight: 500;
        }

        .nav-links a:hover {
            background-color: rgba(75, 34, 122, 0.05);
            transform: translateX(5px);
        }

        .nav-links .talk-button {
            background-color: var(--primary);
            color: white !important;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;
            margin-top: 0.5rem;
        }

        .nav-links .talk-button:hover {
            background-image: linear-gradient(45deg, #4B227A, #FF69B4) !important;
            background-position: 100% 100% !important;
            transform: translateY(-2px);
        }

        .menu-button {
            background: none;
            border: 2px solid var(--primary);
            border-radius: 4px;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem 0.75rem;
            color: var(--primary);
            display: block;
        }

        @media (min-width: 768px) {
            .menu-button {
                display: none;
            }

            .nav-links {
                position: static;
                display: flex !important;
                flex-direction: row;
                padding: 0;
                box-shadow: none;
                gap: 0;
                align-items: center;
            }

            .nav-links a {
                margin-left: 2rem;
                padding: 0.5rem 1rem;
            }
        }
        .pricing-intro {
            text-align: center;
            max-width: 800px;
            margin: 4rem auto 3rem auto;
            padding: 0 1.5rem;
            font-size: 1.25rem;
            line-height: 1.6;
            color: var(--primary);
            font-weight: 500;
            background: linear-gradient(145deg, rgba(75, 34, 122, 0.05) 0%, rgba(255, 105, 180, 0.05) 100%);
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .pricing-intro::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, 
                rgba(75, 34, 122, 0.1) 0%, 
                transparent 70%
            );
            z-index: 1;
            opacity: 0.5;
        }

        .pricing-intro p {
            position: relative;
            z-index: 2;
            margin: 0;
        }

        @media (max-width: 768px) {
            .pricing-intro {
                font-size: 1.125rem;
                margin: 3rem 1rem;
                padding: 1.5rem;
            }
        }
        .contact-form {
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.form-group input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
}

#emailModal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 1rem;  /* Added padding for mobile */
}

#emailModal .modal-content {
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 500px;
    width: 100%;  /* Changed from 90% to 100% */
    position: relative;
}

#emailModal .close-button {
    position: absolute;
    right: 1rem;
    top: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-dark);
    padding: 0.5rem;  /* Added padding for better touch target */
    line-height: 1;
}

#emailModal .form-group {
    margin-bottom: 1.5rem;
}

#emailModal .form-group input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
}

#emailModal .form-group input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(75, 34, 122, 0.1);
}

/* Improved continue button styling */
#emailModal .submit-button {
    display: inline-block;
    background-color: var(--primary);
    color: white;
    text-decoration: none;
    border-radius: 10px;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-block;
    background-image: linear-gradient(45deg, var(--primary) 0%, var(--primary) 100%);
    background-size: 200% 200%;
    background-position: 0% 0%;
    font-weight: 600;
    font-size: 1.2rem;
    padding: 1rem 3rem;
    width: 100%;
    border: none;
    cursor: pointer;
}

#emailModal .submit-button:hover {
    background-image: linear-gradient(45deg, #4B227A, #FF69B4) !important;
    background-position: 100% 100% !important;
    transform: translateY(-2px);
}

/* Mobile optimizations */
@media (max-width: 768px) {
    #emailModal .modal-content {
        padding: 1.5rem;  /* Slightly smaller padding on mobile */
    }
    
    #emailModal h2 {
        font-size: 1.25rem;  /* Slightly smaller heading on mobile */
    }
    
    #emailModal .submit-button {
        padding: 0.875rem 2rem;  /* Slightly smaller padding on mobile */
        font-size: 1.1rem;  /* Slightly smaller font on mobile */
    }
}
.pricing-grid-two {
    max-width: 900px;
    margin: 1rem auto;
    padding: 0 2rem;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
}



.pricing-card:first-child {
    background: linear-gradient(145deg, #ffffff 0%, #fff0f7 100%);
}

.pricing-card:last-child {
    background: linear-gradient(145deg, #ffffff 0%, #f0f7ff 100%);
}



.featured-label {
    background: linear-gradient(45deg, var(--primary), var(--accent));
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    display: inline-block;
    margin-bottom: 1rem;
}

.calculator-cta {
    display: inline-block;
    background: linear-gradient(45deg, var(--primary), var(--accent));
    color: white;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    text-decoration: none;
    text-align: center;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    width: 100%;
    margin-top: auto;
    position: relative;
    overflow: hidden;
}

.calculator-cta:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(75, 34, 122, 0.2);
}

@media (max-width: 768px) {
    .pricing-grid-two {
        grid-template-columns: 1fr;
        padding: 0 1rem;
    }
    
    .pricing-card-featured {
        transform: none;
    }
}

.pricing-calculator-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0rem 0rem;
}

.benefit-toggle-container {
    background: white;
    border-radius: 1rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    padding: 1rem;
    margin-top: 2rem;
}

.toggle-buttons {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 0.5rem;
    background: #f5f5f5;
    border-radius: 0.75rem;
}

.toggle-button {
    flex: 1;
    border: none;
    padding: 1.25rem;
    border-radius: 0.5rem;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.toggle-button.active {
    background: var(--primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.toggle-content {
    text-align: center;
}

.toggle-title {
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
}
.toggle-button.active .toggle-subtitle {
    font-weight: 600;
    font-size: 1rem;
    color: white;
}

.toggle-subtitle {
    font-weight: 600;
    font-size: 1rem;
    color: var(--primary);
}

.benefit-content-box {
    background: #f9f9f9;
    border-radius: 1rem;
    padding: 0rem;
    margin-top: 1rem;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.locked-state {
    position: relative;
    opacity: 0.7;
    pointer-events: none;
}

.locked-message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    font-weight: 500;
    z-index: 10;
    text-align: center;
    width: 80%;
}

.unlocked-state {
    opacity: 1;
    pointer-events: auto;
}

@media (max-width: 768px) {
    .toggle-buttons {
        flex-direction: column;
    }
    
    .benefit-toggle-container {
        padding: 1rem;
    }
    
    .benefit-content-box {
        padding: 1rem;
    }
}
/* Pricing Section Container */
.pricing-calculator-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    position: relative;
    overflow: hidden;
}

.pricing-calculator-section::before {
    content: '';
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(75, 34, 122, 0.05) 0%, transparent 70%);
    top: -300px;
    right: -300px;
    border-radius: 50%;
    z-index: -1;
}

/* Pricing Grid */
.pricing-grid-two {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    padding: 1rem;
    position: relative;
}

/* Pricing Cards */
.pricing-card {
    position: relative;
    background: white;
    border-radius: 20px;
    padding: 2rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Card Backgrounds */
.pricing-card:first-child {
    background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7)),
        linear-gradient(45deg, #fff0f7 0%, #ffffff 100%);
    box-shadow: 
        0 4px 20px rgba(75, 34, 122, 0.1),
        inset 0 0 0 1px rgba(75, 34, 122, 0.05);
}

.pricing-card:last-child {
    background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7)),
        linear-gradient(45deg, #f0f7ff 0%, #ffffff 100%);
    box-shadow: 
        0 4px 20px rgba(75, 34, 122, 0.1),
        inset 0 0 0 1px rgba(75, 34, 122, 0.05);
}

/* Card Hover Effects */
.pricing-card:hover {
    transform: translateY(-8px);
    box-shadow: 
        0 12px 40px rgba(75, 34, 122, 0.15),
        inset 0 0 0 2px rgba(75, 34, 122, 0.1);
}

/* Decorative Elements */
.pricing-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), #FF69B4);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.pricing-card:hover::before {
    opacity: 1;
}

/* Card Header */
.pricing-title {
    font-size: 1.4rem;
    color: var(--primary);
    margin-bottom: 1.5rem;
    font-weight: 700;
    position: relative;
    padding-left: 1rem;
}

.pricing-title::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 24px;
    background: linear-gradient(to bottom, var(--primary), #FF69B4);
    border-radius: 2px;
}

/* Pricing Display */
.price {
    font-size: 2.2rem;
    font-weight: 800;
    color: var(--primary);
    margin: 1.5rem 0;
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
}

.price-period {
    font-size: 1rem;
    color: #666;
    font-weight: 500;
}

/* Features List */
.pricing-features {
    flex-grow: 1;
    margin: 1.5rem 0;
}

.step-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.step-list li {
    display: flex;
    align-items: flex-start;
    padding: 0.75rem 1rem;
    margin-bottom: 0.75rem;
    background: rgba(75, 34, 122, 0.03);
    border-radius: 12px;
    transition: all 0.3s ease;
}

.step-list li:hover {
    background: rgba(75, 34, 122, 0.06);
    transform: translateX(4px);
}

.step-list svg {
    flex-shrink: 0;
    margin: 0.25rem 0.75rem 0 0;
    color: var(--primary);
}

.step-list span {
    font-size: 0.95rem;
    color: #4B227A;
    line-height: 1.5;
}
.pricing-subtitle {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 1.5rem;
    line-height: 1.4;
    padding-left: 1rem;
}

/* CTA Buttons */
.calculate-benefits-btn, .get-today-btn {
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-weight: 600;
    text-align: center;
    width: 100%;
    margin-top: 1.5rem;
    position: relative;
    overflow: hidden;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
}

.calculate-benefits-btn {
    background: var(--primary);
    color: white;
}

.get-today-btn {
    background: linear-gradient(45deg, var(--primary), #FF69B4);
    color: white;
}

.calculate-benefits-btn:hover, .get-today-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(75, 34, 122, 0.2);
}

/* Button Shine Effect */
.get-today-btn::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    transform: translateX(-100%);
    transition: transform 0.6s;
}

.get-today-btn:hover::after {
    transform: translateX(100%);
}

/* Responsive Design */
@media (max-width: 768px) {
    .pricing-grid-two {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 0.5rem;
    }

    .pricing-card {
        padding: 1.5rem;
    }

    .price {
        font-size: 1.8rem;
    }

    .pricing-title {
        font-size: 1.25rem;
    }
}

/* Optional: Card Badge for Featured/Popular Option */
.pricing-card-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(45deg, var(--primary), #FF69B4);
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    transform: translateY(-20px);
    opacity: 0;
    transition: all 0.3s ease;
}

.pricing-card:hover .pricing-card-badge {
    transform: translateY(0);
    opacity: 1;
}
.statistics-section {
    padding: 5rem 1rem;
    background: linear-gradient(to bottom, rgba(75, 34, 122, 0.03), rgba(255, 105, 180, 0.03));
    margin: 4rem 0;
}

.statistics-title {
    font-size: 2.5rem;
    color: #1E0A3C;
    text-align: center;
    margin-bottom: 3rem;
    font-weight: 700;
}

.statistics-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.statistic-card {
    background: white;
    border-radius: 20px;
    padding: 2rem;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.statistic-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(75, 34, 122, 0.12);
}

.statistic-icon-container {
    width: 120px;
    height: 120px;
    margin: 0 auto 0rem;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/*.statistic-icon-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120px;
    height: 120px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
}*/

.statistic-icon-container:nth-child(1)::before {
    background: radial-gradient(circle closest-side, 
        rgba(225, 255, 225, 0.9) 0%,
        rgba(225, 255, 225, 0.7) 30%, 
        rgba(225, 255, 225, 0.4) 60%,
        rgba(255, 228, 225, 0) 100%
    );
}

/* Groceries Card */
.statistic-icon-container:nth-child(2)::before {
    background: radial-gradient(circle closest-side,
        rgba(255, 240, 220, 0.9) 0%,
        rgba(255, 240, 220, 0.7) 30%,
        rgba(255, 240, 220, 0.4) 60%,
        rgba(255, 240, 220, 0) 100%
    );
}

/* Savings Card */
.statistic-icon-container:nth-child(3)::before {
    background: radial-gradient(circle closest-side,
        rgba(255, 220, 249, 0.9) 0%,
        rgba(255, 220, 249, 0.7) 30%,
        rgba(255, 220, 249, 0.4) 60%,
        rgba(253, 220, 255, 0) 100%
    );
}

/*.statistic-icon-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120px;
    height: 120px;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle closest-side, 
        rgba(75, 34, 122, 0.1) 0%,
        rgba(75, 34, 122, 0.05) 50%,
        transparent 100%
    );
    border-radius: 50%;
    z-index: 1;
}*/

.statistic-icon {
    width: 100px;
    height: 100px;
    position: relative;
    z-index: 2;
}

.statistic-number {
    font-size: 2.5rem;
    font-weight: 800;
    color: #4B227A;
    margin-bottom: 0.5rem;
    background: var(--primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.statistic-label {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1E0A3C;
    margin-bottom: 0.75rem;
}

.statistic-description {
    font-size: 1rem;
    color: #666;
    line-height: 1.5;
}

@media (min-width: 768px) {
    .statistics-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 3rem;
    }
    
    .statistics-section {
        padding: 6rem 2rem;
    }
}
@media (max-width: 768px) {
    .pricing-calculator-section {
        padding: 1rem 0.5rem;
    }

    .pricing-grid-two {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 0.5rem;
    }

    .pricing-card {
        padding: 1.5rem 1rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .pricing-title {
        font-size: 1.25rem;
        margin-bottom: 1rem;
    }

    .pricing-subtitle {
        font-size: 0.9rem;
        margin-bottom: 1rem;
        padding-left: 0;
    }

    .price {
        font-size: 1.8rem;
        margin: 1rem 0;
    }

    .price-period {
        font-size: 0.9rem;
    }

    .pricing-features {
        margin: 1rem 0;
    }

    .step-list li {
        padding: 0.5rem 0.75rem;
        margin-bottom: 0.5rem;
    }

    .step-list span {
        font-size: 0.9rem;
    }

    .calculate-benefits-btn, 
    .get-today-btn {
        font-size: 1rem;
        padding: 0.75rem 1rem;
        margin-top: 1rem;
    }

    .benefit-toggle-container {
        padding: 1rem 0.5rem;
        margin-top: 1rem;
    }

    .toggle-buttons {
        flex-direction: column;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .toggle-button {
        padding: 1rem;
        font-size: 0.95rem;
    }

    .benefit-content-box {
        padding: 1rem 0.5rem;
    }

    .section-overlay {
        padding: 1rem;
    }

    .overlay-message {
        padding: 1rem 2rem;
        font-size: 1rem;
    }
}

.stats-banner {
    background: linear-gradient(to right, rgba(75, 34, 122, 0.02), rgba(255, 105, 180, 0.02));
    padding: 2rem 0;
    margin-top: -2px;
    border-bottom: 1px solid rgba(75, 34, 122, 0.1);
}

.stats-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.stat-item {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1rem;
    position: relative;
    /* Add max-width to control overall item width */
    max-width: 380px;
}

.stat-icon {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
}

.stat-content {
    text-align: left;
    /* Add min-width to ensure content has enough space */
    min-width: 180px;
    /* Add max-width to control when text wraps */
    max-width: 300px;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 700;
    color: #4B227A;
    margin-bottom: 0.25rem;
    background: var(--primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-label {
    font-size: 1.1rem;
    color: #495057;
    font-weight: 500;
    line-height: 1.4;
    /* Optional: control text wrapping behavior */
    word-wrap: break-word;
    /* Optional: prevent single words from breaking */
    white-space: normal;
}

.stat-divider {
    width: 2px;
    height: 60px;
    background: linear-gradient(to bottom, rgba(75, 34, 122, 0.1), rgba(255, 105, 180, 0.1));
    margin: 0 2rem;
}

@media (max-width: 768px) {
    .stats-container {
        flex-direction: column;
        padding: 1rem;
    }
    
    .stat-item {
        padding: 1rem 0;
        max-width: 100%;  /* Allow full width on mobile */
    }
    
    .stat-divider {
        width: 80%;
        height: 1px;
        margin: 0.5rem auto;
    }
    
    .stat-number {
        font-size: 2rem;
    }
    
    .stat-content {
        min-width: 0;     /* Remove min-width constraint on mobile */
        max-width: none;  /* Allow content to use available space */
    }
}
.hero-auth-container {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.hero-auth-btn {
    padding: 0.875rem 2rem;
    border-radius: 10px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
}

.hero-auth-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(75, 34, 122, 0.15);
}

.hero-auth-btn-outline {
    border: 2px solid var(--primaryaccount);
    color: white;
    background: transparent;
}

.hero-auth-btn-outline:hover {
    /* background: rgba(75, 34, 122, 0.05); */
}

.hero-auth-btn-solid {
    background: var(--primary);
    color: white;
    border: 2px solid var(--primary);
}

.hero-auth-btn-solid:hover {
    background: var(--primaryaccount);
    border-color: var(--primaryaccount);
}

/* Update the section-overlay positioning for mobile */
@media (max-width: 768px) {
    .section-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.9);
        padding: 0.75rem;
        z-index: 100;
    }

    /* Update sticky message styling */
    .benefit-content-box:not(.calculator-completed)::before {  /* Only show when not completed */
        content: 'Complete the calculator above to unlock your options';
        position: sticky;
        top: 0;
        display: block;
        background: rgba(51, 51, 51, 0.95);
        color: white;
        padding: 0.75rem 1.5rem;
        margin: 0.5rem 0.5rem 1rem 0.5rem;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 500;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 101;
    }

    .overlay-message {
        display: none;
    }

    .benefit-content-box {
        position: relative;
        padding-top: 0;
    }
}
@media (max-width: 768px) {
    .stats-container {
        flex-direction: column;
        padding: 1rem;
    }
    
    .stat-item {
        padding: 1rem 0;
        max-width: 100%;
    }
    
    .stat-content {
        text-align: center;  /* Center the content container */
    }

    .stat-number {
        font-size: 2rem;
        text-align: center;  /* Center the number */
    }

    .stat-label {
        text-align: center;  /* Center the label */
    }
    
    .stat-divider {
        width: 80%;
        height: 1px;
        margin: 0.5rem auto;
    }
}
.screenshot-section-mobile {
    display: none; /* Hidden by default */
}

/* Desktop section */
.screenshot-section-desktop {
    display: none; /* Hidden by default */
}

/* Show mobile section on smaller screens */
@media (max-width: 768px) {
    .screenshot-section-mobile {
        display: block;
    }
    .screenshot-section-desktop {
        display: none;
    }
}

/* Show desktop section on larger screens */
@media (min-width: 769px) {
    .screenshot-section-mobile {
        display: none;
    }
    .screenshot-section-desktop {
        display: block;
    }
}
.desktop-sticky-section {
    height: 250vh;
    position: relative;
    padding-top: 5.5rem;
    background: transparent;
}

.desktop-sticky-container {
    height: 100vh;
    position: sticky;
    top: 11.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent; /* Changed from white */
}

.desktop-content-wrap {
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    background: transparent;
}

.desktop-image-container {
    position: relative;
    height: 800px;
    width: 450px;
    margin: 0 auto;
    background: transparent;
}

.desktop-screenshot-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    transform: translateX(-45%);
    opacity: 0;
    transition: transform 0.3s ease;
    background: transparent;
}

.desktop-screenshot-image {
    width: 450px;
    height: auto;
    display: block;
    border-radius: 12px;
    transition: transform 0.3s ease;
    margin: 0 auto;
}

.desktop-screenshot-caption {
    position: absolute;
    width: 300px; /* Match image width */
    left: 500px; /* Position caption next to image */
    top: 42%; /* Vertically center with image */
    transform: translateY(-50%);
    text-align: left;
    color: #4B227A;
    font-size: 1.3rem;
    font-weight: 600;
    letter-spacing: 0.02em;
    opacity: 0;
    transition: all 0.3s ease;
}


.desktop-screenshot-container:first-child {
    opacity: 1; /* Make first image visible by default */
}

.desktop-screenshot-container::after {
    content: '';
    position: absolute;
    left: 10%;
    right: 0%;
    bottom: -30px;
    height: 4px;
    background: radial-gradient(
        ellipse at center,
        rgba(20, 8, 25, 0.98) 0%,
        rgba(35, 15, 45, 0.98) 70%
    );
    filter: blur(8px);
    border-radius: 50%;
    z-index: 1;
    transition: all 0.3s ease;
}


@media (min-width: 769px) {
    .screenshot-section-desktop {
        margin-bottom: -8rem; /* Negative margin to pull up next section */
    }
}

.desktop-screenshot-container.active {
    opacity: 1;
}

.desktop-screenshot-container.active .desktop-screenshot-image {
    /* Remove the transform that was causing the jump */
    /* transform: translateY(-20px); */
}

.desktop-screenshot-container.active .desktop-screenshot-caption {
    opacity: 1;
    transform: translateY(0);
}

@media (min-width: 769px) {
    .desktop-image-container {
        width: 400px;
        height: 800px;
    }
}

.benefits img.stat-icon {
    display: block;
    margin: 0 auto 1.5rem;
    width: 120px;  /* Increased from default size */
    height: 120px; /* Increased from default size */
}

@media (max-width: 768px) {
    .benefits img.stat-icon {
        width: 100px;
        height: 100px;
    }
}

.stats-container {
    position: relative;  /* Add this */
}

.stats-details-link {
    position: absolute;
    top: 0;
    right: 2rem;  /* Match the container padding */
    font-size: 0.75rem;
    color: #666;
    text-decoration: underline;
    padding: 4px;
}

.stats-details-link:hover {
    color: #4B227A;
}

@media (max-width: 768px) {
    .stats-details-link {
        right: 1rem;  /* Match mobile container padding */
    }
}

/* Email Modal Styles */
#emailModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 400px;
    width: 90%;
    position: relative;
}

.close-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
}

.contact-form input {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
}

.submit-button {
    width: 100%;
    padding: 0.75rem;
    background: linear-gradient(45deg, #4B227A, #FF69B4);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
}

    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TGZL6PTS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <nav class="navbar">
        <a href="https://renesthorizons.com" class="logo">RENEST</a>
        <div class="nav-links">
            <a href="signin529.html">Sign In</a>
            <a href="aboutus529.html">About Us</a>
            <a href="faq529.html">FAQ</a>
            <a href="howitworks529.html">How It Works</a>
            <a href="admin529.html">For Businesses & Universities</a>
            <a href="getstarted529.html" class="talk-button">Get Started</a>
        </div>
        <button class="menu-button" aria-label="Toggle menu" aria-expanded="false"></button>
    </nav>

    <main>
        <section class="hero">
            <div class="hero-content">
                <!-- Add this new div for the image -->
                
                <!-- Wrap existing content in a div -->
                <div class="hero-text">
                    <h1>Unlocking Savings<br>For Graduate Students</h1>
                    <p style="font-size:1.2rem;">Graduate students use Renest to save an average of $450 per year</p>
                    <div class="hero-auth-container">
                        <a href="signin529.html" class="hero-auth-btn hero-auth-btn-solid">Sign In</a>
                        <!-- <a href="signup529.html" class="hero-auth-btn hero-auth-btn-solid">Sign Up</a> -->
                    </div>
                </div>
                <div class="hero-image-container">
                    <img src="529iphoneimage3hero.png" alt="Renest App Interface" class="hero-phone">
                </div>
            </div>
        </section>
        <section class="stats-banner">
            <div class="stats-container">
                <div class="stat-item">
                    <!-- <img src="StudentLoans3.png" alt="Students Icon" class="stat-icon"> -->
                    <div class="stat-content">
                        <div class="stat-number">2,000+</div>
                        <div class="stat-label">Graduate Students Supported</div>
                    </div>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <!-- <img src="expensescomb.png" alt="Expenses Icon" class="stat-icon"> -->
                    <div class="stat-content">
                        <div class="stat-number">$55M+</div>
                        <div class="stat-label">Qualified Spend Identified</div>
                    </div>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <!-- <img src="Savingscomb.png" alt="Savings Icon" class="stat-icon"> -->
                    <div class="stat-content">
                        <div class="stat-number">$1.2M+</div>
                        <div class="stat-label">Unlocked for Graduate Students</div>
                    </div>
                </div>
                <a href="Renest_Pilot_Data.pdf" target="_blank" class="stats-details-link">see details</a>
            </div>
        </section>
        

        <section class="benefits">
            <img src="Savingscomb.png" alt="Savings Icon" class="stat-icon">
            <h2 class="section-title">Did You Know?</h2>
            <p style="text-align: justify; max-width: 510px; margin: 0 auto 2rem; font-size: 1.2rem;">
                <!-- You could be saving hundreds of dollars every year on core expenses like rent and groceries by using your state's 529 plan. 
                Renest makes this process quick and easy so you start maximizing your savings and growing your financial literacy today. -->
                Renest goes beyond expense tracking and budgetingwe uncover overlooked value,
                even finding you savings on money that's already spent!
                Simplify and streamline your focus with a clear and complete view of your finances
                as Renest automatically unlocks your 529 plan benefits.
                Save time and money today while developing the financial skills that build lasting confidence.
            </p>
            <div class="state-search-container" style="margin: 1.5rem auto; max-width: 500px;">
                         <h4 style="color: #4B227A; margin-bottom: 1rem; font-size: 1.1rem; text-align: center;">Find Your State's 529 Plan</h4>
                         <input 
                             type="text" 
                             id="stateSearch" 
                             placeholder="Enter the state where you go to school..." 
                             style="width: 100%; padding: 0.75rem; border: 2px solid #4B227A; border-radius: 8px; font-size: 1rem; margin-bottom: 0.5rem;"
                         >
                         <div 
                             id="searchResults" 
                             style="display: none; max-height: 200px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px; background: white;"
                         ></div>
                         <div 
                             id="selectedStateInfo" 
                             style="display: none; margin-top: 1rem; padding: 1rem; background: rgba(75, 34, 122, 0.05); border-radius: 8px;"
                         ></div>
                     </div>

            <!-- <div class="statistics-section"> -->
                <!-- <h2 class="statistics-title">Our Impact</h2> -->
                
            <!-- </div> -->
            

            <h2 class="section-title" style="   margin-top:4.5rem;">Built for Graduate Students</h2>
            <h3 class="section-subtitle" style="color: #4B227A; font-weight: 600; font-size: 1.3rem; text-align:  center;">Save Time, Money and Grow Your Financial Literacy</h3>
            <section class="screenshot-section-mobile">
                <section class="screenshot-gallery">
                    <div class="screenshot-scroll">
                        <div class="screenshot-item">
                            <div class="screenshot-container2">
                                <img src="529iphoneimage3style.png" alt="Dashboard Screenshot" class="screenshot-image">
                            </div>
                            <div class="screenshot-caption">
                                <p>No More Guesswork  Complete view and control of your expenses and savings</p>
                            </div>
                        </div>
                        
                        <div class="screenshot-item">
                            <div class="screenshot-container2">
                                <img src="529iphoneimage2style.png" alt="Expense Tracker Screenshot" class="screenshot-image">
                            </div>
                            <div class="screenshot-caption">
                                <p>Quick and Easy  Link all your accounts in one place</p>
                            </div>
                        </div>
                        
                        <div class="screenshot-item">
                            <div class="screenshot-container2">
                                <img src="529iphoneimage1style.png" alt="Account Management Screenshot" class="screenshot-image">
                            </div>
                            <div class="screenshot-caption">
                                <p>The Renest Advantage  Unlock cash back on your student expenses</p>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <section class="screenshot-section-desktop">
                <div class="desktop-sticky-section">
                    <div class="desktop-sticky-container">
                        <div class="desktop-content-wrap">
                            <div class="desktop-image-container">
                                <div class="desktop-screenshot-container">
                                    <img src="529iphoneimage3style.png" class="desktop-screenshot-image" alt="Dashboard Screenshot" style="opacity: 1;">
                                    <div class="desktop-screenshot-caption">
                                        <p>No More Guesswork  Complete view and control of your expenses and savings</p>
                                    </div>
                                </div>
                                
                                <div class="desktop-screenshot-container">
                                    <img src="529iphoneimage2style.png" class="desktop-screenshot-image" alt="Expense Tracker Screenshot">
                                    <div class="desktop-screenshot-caption">
                                        <p>Quick and Easy  Link all your accounts in one place</p>
                                    </div>
                                </div>
                                
                                <div class="desktop-screenshot-container">
                                    <img src="529iphoneimage1style.png" class="desktop-screenshot-image" alt="Account Management Screenshot">
                                    <div class="desktop-screenshot-caption">
                                        <p>The Renest Advantage  Unlock cash back on your student expenses</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>



            <h2 class="section-title">How Much Can I Unlock?</h2>
                <div class="form-container">
            <!-- <h2 class="calculator-title">Benefits Calculator</h2> -->
            <div class="progress-bar">
                <div class="progress-line"></div>
                <div class="progress-step active">1</div>
                <div class="progress-step">2</div>
                <div class="progress-step">3</div>
                <div class="progress-step">4</div>
            </div>


            <form id="signup-form">
               
                <div class="form-step active" data-step="1">
                    <div class="form-group">
                        <label>Which university do you attend?</label>
                        <input type="text" id="schoolSearch" class="form-control" placeholder="Start typing your school name..." oninput="handleSchoolSearch(event)">
                        <div id="schoolSuggestions" class="suggestions hidden"></div>
                    </div>
                    <div id="stateSelection" class="form-group hidden">
                        <label>Choose where you go to school:</label>
                        <div id="stateSuggestions" class="suggestions hidden"></div>
                    </div>
                </div>

                <div class="form-step" data-step="2">
                    <div class="form-group">
                        <label>What's your annual income?</label>
                        <input type="text" id="incomeInput" class="form-control" placeholder="Enter your annual income" required>
                    </div>
                </div>

                <div class="form-step" data-step="3">
                    <div class="form-group">
                        <label>Monthly Rent and Utilities</label>
                        <input type="text" id="rentInput" class="form-control" placeholder="Enter your monthly rent + utilities" required>
                        <!-- <input type="text" id="groceryInput" class="form-control mt-4" placeholder="Enter your monthly grocery/food spend" required> -->
                    </div>
                </div>

                <div class="form-step" data-step="4">
                    <div class="form-group text-center">
                        <div class="benefit-label-container">
                            <div class="benefit-label">Your Annual Renest 529 Cash Back</div>
                            <div class="tooltip inline-block">
                                <div class="tooltip-icon">i</div>
                                <div class="tooltip-content" id="benefitDetails"></div>
                            </div>
                        </div>
                        <div class="benefit-amount" id="benefitResult">$0</div>
                        <!-- <div style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">Minimum time commitment: 9-13 min</div> -->
                    </div>
                </div>

                <div class="btn-container">
                    <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none">Back</button>
                    <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
                </div>
            </form>
        </div>

        <div class="text-center my-8">
            <a href="signin529.html" class="getst-button">
              Join Our Free Pilot Today
            </a>
            <div style="margin-top: 2rem;">
                <a href="#" onclick="openEmailModal(); return false;">or, join our financial tips newsletter</a>
            </div>
        </div>
       
        
        <div class="pricing-calculator-section">

            <!-- <div class="pricing-intro">
                <p>Fill out the calculator above to see your personalized benefit options</p>
            </div> -->

            <div class="benefit-toggle-container">
                <div class="toggle-buttons">
                    <button class="toggle-button active" data-tab="early" id="early-toggle">
                        <div class="toggle-content">
                            <!-- <div class="toggle-title">Calculate Your Early Amount</div> -->
                            <div class="toggle-subtitle" id="early-amount-display">Get Your Benefit Today</div>
                        </div>
                    </button>
                    <button class="toggle-button" data-tab="later" id="later-toggle">
                        <div class="toggle-content">
                            <!-- <div class="toggle-title">Get Full Benefit Later</div> -->
                            <div class="toggle-subtitle" id="later-amount-display">Get Your Benefit Later</div>
                        </div>
                    </button>
                </div>

                <div class="benefit-content-box">
                    <div class="section-overlay" id="calculator-overlay">
                        <div class="overlay-message">
                            Complete the calculator above to unlock your options
                        </div>
                    </div>
                    <div class="tab-content active" id="early">
                        <div class="pricing-grid-two" style="grid-template-columns: 1fr; max-width: 550px; margin: 0 auto;">
                            
                            <div class="pricing-card locked-state">
                                <div class="locked-message">Complete the calculator above to unlock your options</div>
                                <h3 class="pricing-title">Get Your Benefit Today</h3>
                                <h3 class="pricing-subtitle">Complete Automated Management</h3>
                                <div class="pricing-features">
                                    <ul class="step-list">
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span><strong>Get your tax benefit now</strong> instead of waiting for tax season</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>Full 529 account setup & optimization</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>Automated expense tracking & qualification</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>IRS-ready documentation for 3 years</span>
                                        </li>
                                    </ul>
                                </div>
                                <h3 class="pricing-title">How It Works</h3>
                                <div>We advance your tax benefit today and handle all the paperwork. We receive the full 529 benefit when you file your state taxes.</div>
                                <div class="guarantee" style="margin-top: 1rem;">Your maximum tax benefit guaranteed</div>
                            </div>
                        </div>
                    </div>

                  
                    <div class="tab-content" id="later">
                        <div class="pricing-grid-two">
                          
                            <div class="pricing-card locked-state">
                                <div class="locked-message">Complete the calculator above to unlock your options</div>
                                <h3 class="pricing-title">Complete 529 Management</h3>
                                <h3 class="pricing-subtitle">Never think about your 529 again</h3>
                                <div class="pricing-features">
                                    <ul class="step-list">
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>Account management and documentation</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>Automated tracking & qualification</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>Your maximum 529 benefit</span>
                                        </li>
                                    </ul>
                                </div>
                                <div class="price">$6/month</div>
                                <div class="price-period"> <span style="font-size: 1 rem; font-weight: 700;">or $89</span> when you receive your tax benefit</div>
                            </div>

                            <div class="pricing-card locked-state">
                                <div class="locked-message">Complete the calculator above to unlock your options</div>
                                <h3 class="pricing-title">Manual Tracking</h3>
                                <div class="pricing-features">
                                    <ul class="step-list">
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>A Simple Expense Tracker for You to Log Your Expenses</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>We Store Your Documentation for 3 Years</span>
                                        </li>
                                        <li>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M16.667 5L7.5 14.167L3.333 10" stroke="#4B227A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span>We Remind You to Maintain Tracking</span>
                                        </li>
                                    </ul>
                                </div>
                                <div class="price">Free</div>
                                <!-- <div class="price-period"> <span style="font-size: 1 rem; font-weight: 700;">or $15</span> when you receive your tax benefit</div> -->
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>


        <!-- <div class="text-center" style="margin-top: 1.5rem; margin-bottom: 1rem;">
            <a href="#" onclick="openEmailModal(); return false;" style="color: #4B227A; text-decoration: underline; font-size: 1.1rem;">Use the Renest manual tracker for free!</a>
        </div> -->

        <div id="emailModal">
            <div class="modal-content">
                <button class="close-button" onclick="closeEmailModal()"></button>
                <h2 style="color: var(--primary); font-size: 1.5rem; font-weight: bold; margin-bottom: 1.5rem;"> </h2>
                <form id="emailForm" class="contact-form">
                    <div class="form-group">
                        <label for="emailInput" style="display: block; margin-bottom: 0.5rem; font-weight: 500;"> </label>
                        <input type="email" id="emailInput" required placeholder="Enter your email">
                    </div>
                    <button type="submit" class="submit-button">Submit</button>
                </form>
            </div>
        </div>
        

            <!-- <h2 class="section-title" style="   margin-top:     4rem;">Use Your Unlocked Cash How You Like!</h2>
            <div class="benefits-grid">

                <div class="benefit-card">
                    <div class="image-container">
                        <img src="StudentLoans3.png" alt="Student Loans">
                    </div>
                    <h4 class="benefit-title">Pay Off Student Loans</h4>
                    <p>Thousands of graduate students have unlocked funds to pay off student loans</p>
                </div>
                <div class="benefit-card">
                    <div class="image-container">
                        <img src="expensescomb2.png" alt="Groceries Benefit">
                    </div>
                    <h4 class="benefit-title">Everyday Expenses</h4>
                    <p>Use unlocked funds for essentials and other expenses, from groceries to concert tickets</p>
                </div>
                <div class="benefit-card">
                    <div class="image-container">
                        <img src="Savingscomb.png" alt="Savings Benefit">
                    </div>
                    <h4 class="benefit-title">Create Savings</h4>
                    <p>Build rainy day funds and start your retirement savings journey</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <a href="getstarted529.html" class="talk-button" style="font-weight: 600;font-size: 1.2rem;
                padding: 1rem 3rem;
                margin-top: 1rem;">Get Started</a>
            </div> -->
            
        </section>
        
    
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="footer-logo">RENEST</div>
                <p class="copyright">2025 Renest Horizons Inc.</p>
            </div>
            <div class="footer-links">
                <h3>Company</h3>
                <a href="aboutus529.html">About us</a>
                <a href="privacypolicy529.html">Privacy Policy</a>
                <a href="termsofservice529.html">Terms of Service</a>
            </div>
            <div class="footer-links">
                <h3>Resources</h3>
                <a href="contactus529.html">Contact us</a>
                <a href="faq529.html">FAQ</a>
                <!-- <a href="https://www-renesthorizons-com.translate.goog/?_x_tr_sl=auto&_x_tr_tl=es&_x_tr_hl=en&_x_tr_pto=wapp">Espaol</a> -->
            </div>
        </div>
    </footer>

    <script>
        if (window.innerWidth >= 769) {
    const containers = document.querySelectorAll('.desktop-screenshot-container');
    const stickySection = document.querySelector('.desktop-sticky-section');
    
    function updateScreenshots() {
        const rect = stickySection.getBoundingClientRect();
        
        // Only start transitions once we've scrolled to where the container is in view
        if (rect.top <= 80) { // Account for navbar
            const progress = Math.abs(rect.top) / (rect.height - window.innerHeight);
            const transitionSize = 0.05;
            const firstTransition = 0.33;
            const secondTransition = 0.67;

            // Reset base state
            containers.forEach(container => {
                container.classList.remove('active');
                container.style.opacity = 0;
            });

            if (progress < firstTransition - transitionSize) {
                // First image fully visible
                containers[0].style.opacity = 1;
                containers[0].classList.add('active');
            } 
            else if (progress < firstTransition + transitionSize) {
                // Transition from first to second image
                const fadeProgress = (progress - (firstTransition - transitionSize)) / (transitionSize * 2);
                containers[0].style.opacity = 1 - fadeProgress;
                containers[1].style.opacity = fadeProgress;
                if (fadeProgress > 0.5) {
                    containers[1].classList.add('active');
                } else {
                    containers[0].classList.add('active');
                }
            } 
            else if (progress < secondTransition - transitionSize) {
                // Second image fully visible
                containers[1].style.opacity = 1;
                containers[1].classList.add('active');
            } 
            else if (progress < secondTransition + transitionSize) {
                // Transition from second to third image
                const fadeProgress = (progress - (secondTransition - transitionSize)) / (transitionSize * 2);
                containers[1].style.opacity = 1 - fadeProgress;
                containers[2].style.opacity = fadeProgress;
                if (fadeProgress > 0.5) {
                    containers[2].classList.add('active');
                } else {
                    containers[1].classList.add('active');
                }
            } 
            else {
                // Third image fully visible
                containers[2].style.opacity = 1;
                containers[2].classList.add('active');
            }
        } else {
            // Before sticky point, show only first image
            containers.forEach((container, index) => {
                if (index === 0) {
                    container.style.opacity = 1;
                    container.classList.add('active');
                } else {
                    container.style.opacity = 0;
                    container.classList.remove('active');
                }
            });
        }
    }

    window.addEventListener('scroll', () => {
        requestAnimationFrame(updateScreenshots);
    }, { passive: true });

    // Initial update
    updateScreenshots();
}

        

        window.calculatorCompleted = false;

        document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.toggle-button');
    
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Remove active class from all buttons and content
            document.querySelectorAll('.toggle-button').forEach(btn => 
                btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => 
                content.classList.remove('active'));
            
            // Add active class to clicked button and corresponding content
            button.classList.add('active');
            document.getElementById(button.dataset.tab).classList.add('active');
        });
    });
});

// Add this to your existing calculator code where you calculate the benefit
function updatePricingDisplay(benefit, earlyAmount) {
    const earlyToggle = document.getElementById('early-toggle');
    const laterToggle = document.getElementById('later-toggle');
    const pricingCards = document.querySelectorAll('.pricing-card');
    
    // Format amounts
    const formattedEarly = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0
    }).format(earlyAmount);
    
    const formattedBenefit = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0
    }).format(benefit);

    // Update toggle displays
    document.getElementById('early-amount-display').textContent = `You Get ${formattedEarly} Today`;
    document.getElementById('later-amount-display').textContent = `You Get ${formattedBenefit} When You File Taxes`;

    // Unlock content
    pricingCards.forEach(card => {
        card.classList.remove('locked-state');
        card.classList.add('unlocked-state');
    });

    // Update main CTA button
    const mainCtaButton = document.getElementById('main-cta-button');
    if (mainCtaButton) {
        mainCtaButton.textContent = `Get ${formattedEarly} Today`;
    }
}

        function generateUserId() {
            let userId = localStorage.getItem('renest_user_id');
            if (!userId) {
                userId = 'user_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('renest_user_id', userId);
            }
            return userId;
        };

        function trackFormInput(inputId, eventName) {
            const input = document.getElementById(inputId);
            let timeoutId;
            
            input.addEventListener('input', function() {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => {
                    const value = this.value.replace(/[^0-9.-]+/g, '');
                    if (value) {
                        window.dataLayer.push({
                            'event': eventName,
                            'user_id': generateUserId(),
                            'input_value': parseFloat(value)
                        });
                    }
                }, 1000); // Debounce for 1 second
            });
        };


//         function openEmailModal() {
//     document.getElementById('emailModal').style.display = 'flex';
// }

// function closeEmailModal() {
//     document.getElementById('emailModal').style.display = 'none';
// }

// Add event listener to the Create Account button
// document.querySelector('.getst-button').addEventListener('click', function(e) {
//     e.preventDefault();
//     openEmailModal();
// });

// Handle form submission
// Handle form submission
// document.getElementById('emailForm').addEventListener('submit', function(e) {
//     e.preventDefault();
    
//     const email = encodeURIComponent(document.getElementById('emailInput').value);
//     const baseUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSdbQ8N6wXVAFFm4YhKS3lmn8lm4tcS449WEKsRP6CNnGzud-w/formResponse';
//     const queryString = `?entry.81718599=${email}`;
    
//     // Using a hidden iframe to submit the form without redirecting
//     const iframe = document.createElement('iframe');
//     iframe.style.display = 'none';
//     iframe.setAttribute('src', baseUrl + queryString);
//     document.body.appendChild(iframe);
    
//     // Create and show styled thank you message
//     const thankYouModal = document.createElement('div');
//     thankYouModal.style.position = 'fixed';
//     thankYouModal.style.top = '0';
//     thankYouModal.style.left = '0';
//     thankYouModal.style.width = '100%';
//     thankYouModal.style.height = '100%';
//     thankYouModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
//     thankYouModal.style.display = 'flex';
//     thankYouModal.style.justifyContent = 'center';
//     thankYouModal.style.alignItems = 'center';
//     thankYouModal.style.zIndex = '2000';
    
//     thankYouModal.innerHTML = `
//         <div style="background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); max-width: 500px; width: 90%; text-align: center; position: relative;">
//             <div style="width: 48px; height: 48px; margin: 0 auto 1rem; background: linear-gradient(45deg, #4B227A, #FF69B4); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
//                 <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
//                     <polyline points="20 6 9 17 4 12"></polyline>
//                 </svg>
//             </div>
//             <h2 style="color: #4B227A; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Welcome to Renest!</h2>
//             <p style="color: #666; font-size: 1.1rem; margin-bottom: 2rem;">Thank you for starting your journey with us. We'll be in touch shortly with next steps to unlock your tax benefits.</p>
//             <button style="background: linear-gradient(45deg, #4B227A, #FF69B4); color: white; padding: 0.75rem 2rem; border-radius: 10px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onclick="this.parentElement.parentElement.remove()">Continue</button>
//         </div>
//     `;
    
//     document.body.appendChild(thankYouModal);
//     this.reset();
//     closeEmailModal();
    
//     // Remove iframe after submission
//     setTimeout(() => {
//         document.body.removeChild(iframe);
//     }, 1000);
// });

// // Close modal when clicking outside
// document.getElementById('emailModal').addEventListener('click', function(e) {
//     if (e.target === this) {
//         closeEmailModal();
//     }
// });
        const menuButton = document.querySelector('.menu-button');
        const navLinks = document.querySelector('.nav-links');

        menuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
            menuButton.setAttribute('aria-expanded', navLinks.style.display === 'flex');
        });

        document.addEventListener('click', function(e) {
            if (window.innerWidth < 768 && !navLinks.contains(e.target) && e.target !== menuButton) {
                navLinks.style.display = 'none';
                menuButton.setAttribute('aria-expanded', false);
            }
        });

        const state529linkDB = {
            'AL': {
                url: 'https://www.collegecounts529.com/',
                name: 'Alabama CollegeCounts 529',
                benefit: "$256"
            },
            'AK': {
                url: 'https://www.alaska529plan.com/',
                name: 'Alaska 529',
                benefit:"$0"
            },
            'AZ': {
                url: 'https://az529.gov/',
                name: 'Arizona Education Savings Plan',
                benefit:"$53"
            },
            'AR': {
                url: 'https://brighterfuturedirect529.com/',
                name: 'Arkansas Brighter Future 529',
                benefit:"$231"
            },
            'CA': {
                url: 'https://www.scholarshare529.com/',
                name: 'California ScholarShare 529',
                benefit:"$0"
            },
            'CO': {
                url: 'https://www.collegeinvest.org/',
                name: 'Colorado CollegeInvest 529',
                benefit:"$1,118"
            },
            'CT': {
                url: 'https://aboutchet.com/',
                name: 'Connecticut College Savings Plan',
                benefit:"$221"
            },
            'DE': {
                url: 'https://treasurer.delaware.gov/education-savings-plan/#:~:text=Delaware%E2%80%99s%20529%20Plan%20is%20sponsored%20by%20the%20State,grandparents%20and%20others%20pay%20for%20higher%20education%20expenses.',
                name: 'Delaware Education Savings Plan',
                benefit:"$47"
            },
            'FL': {
                url: 'https://www.myfloridaprepaid.com/savings-plan/',
                name: 'Florida Prepaid 529',
                benefit:"$0"
            },
            'GA': {
                url: 'https://ost.georgia.gov/georgias-529-college-savings/georgias-529-college-savings',
                name: 'Georgia 529 College Savings',
                benefit:"$212"
            },
            'HI': {
                url: 'https://www.hi529.com/',
                name: 'Hawaii College Savings Program 529',
                benefit:"$0"

            },
            'ID': {
                url: 'https://www.idsaves.org/',
                name: 'Idaho Saves 529',
                benefit:"$348"
            },
            'IL': {
                url: 'https://www.brightstart.com/',
                name: 'Bright Start 529 College Savings',
                benefit:"$495"
            },
            'IN': {
                url: 'https://www.indiana529direct.com/',
                name: 'CollegeChoice 529 Direct Savings Plan',
                benefit:"$1,500"
            },
            'IA': {
                url: 'https://www.collegesavingsiowa.com/',
                name: 'College Savings Iowa 529 Plan',
                benefit:"$215"
            },
            'KS': {
                url: 'https://www.learningquest.com/',
                name: 'Learning Quest 529 Education Savings Program',
                benefit:"$47"
            },
            'KY': {
                url: 'https://ky529.com/',
                name: 'KY Saves 529',
                benefit:"$0"

            },
            'LA': {
                url: 'https://www.startsaving.la.gov/',
                name: 'START Saving Program',
                benefit:"$73"

            },
            'ME': {
                url: 'https://www.nextgenforme.com/',
                name: 'NextGen 529',
                benefit:"$61"
            },
            'MD': {
                url: 'https://maryland529.com/',
                name: 'Maryland 529',
                benefit:"$116"
            },
            'MA': {
                url: 'https://www.fidelity.com/529-plans/massachusetts',
                name: 'U.Fund College Investing Plan',
                benefit:"$50"
            },
            'MI': {
                url: 'https://www.misaves.com/',
                name: 'Michigan Education Savings Program (MESP)',
                benefit:"$215"
            },
            'MN': {
                url: 'https://www.mnsaves.org/',
                name: 'Minnesota College Savings Plan',
                benefit:"$500"
            },

            'MS': {
                url: 'https://www.treasury.ms.gov/collegesavingsmississippi/',
                name: 'Mississippi Affordable College Savings (MACS)',
                benefit:"$440"
            },
            'MO': {
                url: 'https://www.missourimost.org/',
                name: 'MOST 529 Plan',
                benfit:"$382"
            },
            'MT': {
                url: 'https://achievemontana.com/',
                name: 'Achieve Montana',
                benefit:"$151"
            },
            'NE': {
                url: 'https://nest529.com/',
                name: 'NEST 529 College Savings',
                benefit:"$414"
            },
            'NV': {
                url: 'https://www.ssga.upromise529.com/',
                name: 'SSGA Upromise 529 Plan',
                benefit:"$0"
            },
            'DC': {
                url: 'https://www.dccollegesavings.com/',
                name: 'DC College Savings Plan',
                benefit:"$240"
            },
            'NH': {
                url: 'https://www.fidelity.com/529-plans/new-hampshire',
                name: 'UNIQUE College Investing Plan',
                benefit:"$0"
            },
            'NJ': {
                url: 'https://www.njbest.com/',
                name: 'NJBEST 529 College Savings Plan',
                benefit:"$248"
            },
            'NM': {
                url: 'https://www.theeducationplan.com/',
                name: 'The Education Plan',
                benefit:"$1,151"
            },
            'NY': {
                url: 'https://www.nysaves.org/',
                name: 'New York 529 Plan',
                benefit:"$266"
            },
            'NYC': {
                url: 'https://www.nysaves.org/',
                name: 'New York 529 Plan',
                benefit:"$383"
            },
            'NC': {
                url: 'https://nc529.org/',
                name: 'NC 529 Plan',
                benefit:"$0"
            },
            'ND': {
                url: 'https://www.collegesave4u.com/',
                name: 'College SAVE',
                benefit:"$63"
            },
            'OH': {
                url: 'https://www.collegeadvantage.com/',
                name: 'CollegeAdvantage 529',
                benefit:"$150"
            },
            'OK': {
                url: 'https://www.ok4saving.org/',
                name: 'Oklahoma 529 College Savings Plan',
                benefit:"$453"
            },
            'OR': {
                url: 'https://www.oregoncollegesavings.com/',
                name: 'Oregon College Savings Plan',
                benefit:"$180"
            },
            'PA': {
                url: 'https://www.pa529.com/',
                name: 'PA 529',
                benefit:"$553"
            },

            'RI': {
                url: 'https://www.collegeboundsaver.com/',
                name: 'CollegeBound Saver',
                benefit:"$19"
            },
            'SC': {
                url: 'https://www.futurescholar.com/',
                name: 'Future Scholar 529 College Savings Plan',
                benefit:"$912"
            },
            'SD': {
                url: 'https://collegeaccess529.com/',
                name: 'CollegeAccess 529',
                benefit:"$0"
            },
            'TN': {
                url: 'https://tnstars.com/',
                name: 'TNStars College Savings 529 Program',
                benefit:"$0"
            },
            'TX': {
                url: 'https://www.texascollegesavings.com/',
                name: 'Texas College Savings Plan',
                benefit:"$0"
            },
            'UT': {
                url: 'https://my529.org/',
                name: 'my529',
                benefit:"$194"
            },
            'VT': {
                url: 'https://www.vheip.org/',
                name: 'Vermont Higher Education Investment Plan',
                benefit:"$84"
            },
            'VA': {
                url: 'https://www.virginia529.com/',
                name: 'Virginia529',
                benefit:"$205"
            },
            'WA': {
                url: 'https://www.dreamahead.wa.gov/',
                name: 'DreamAhead College Investment Plan',
                benefit:"$0"
            },
            'WV': {
                url: 'https://www.smart529.com/',
                name: 'SMART529',
                benefit:"$1,028"
            },
            'WI': {
                url: 'https://www.edvest.com/',
                name: 'Edvest',
                benefit:"$234"
            },
            'WY': {
                url: 'https://www.collegeadvantage.com/',
                name: 'College Achievement Wyoming',
                benefit:"$0"
            }
        };
        const stateTaxDB = {
    'AK': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Alaska has no state income tax.'
    },
    'AL': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3000, rate: 2 },
            { threshold: 6000, rate: 4 },
            { threshold: 12000, rate: 5 },
            { threshold: Infinity, rate: 5.5 }
        ],
        notes: 'Alabama taxes capital gains as ordinary income with progressive rates.'
    },
    'AR': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 4300, rate: 2 },
            { threshold: 8500, rate: 3 },
            { threshold: 12700, rate: 4.4 },
            { threshold: 21300, rate: 4.6 },
            { threshold: 26500, rate: 4.9 },
            { threshold: Infinity, rate: 5.5 }
        ],
        notes: 'Arkansas taxes capital gains as ordinary income with multiple tax brackets.'
    },
    'AZ': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 27272, rate: 2.55 },
            { threshold: 54544, rate: 2.98 },
            { threshold: 163692, rate: 4.50 },
            { threshold: Infinity, rate: 4.80 }
        ],
        notes: 'Arizona taxes capital gains as ordinary income with progressive rates.'
    },
    'CA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: true,
        brackets: [
            { threshold: 10099, rate: 1 },
            { threshold: 23942, rate: 2 },
            { threshold: 37788, rate: 4 },
            { threshold: 52455, rate: 6 },
            { threshold: 66295, rate: 8 },
            { threshold: 338639, rate: 9.3 },
            { threshold: 406364, rate: 10.3 },
            { threshold: 677275, rate: 11.3 },
            { threshold: 1000000, rate: 12.3 },
            { threshold: Infinity, rate: 13.3 }
        ],
        notes: 'California taxes capital gains as ordinary income with progressive rates from 1% to 13.3%. Capital gains are taxed even with $0 in other income.'
    },
    'CO': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.4 }
        ],
        notes: 'Colorado has a flat tax rate of 4.4% for all income including capital gains.'
    },
    'CT': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 10000, rate: 3 },
            { threshold: 50000, rate: 5 },
            { threshold: 100000, rate: 5.5 },
            { threshold: 200000, rate: 6 },
            { threshold: 250000, rate: 6.5 },
            { threshold: 500000, rate: 6.9 },
            { threshold: Infinity, rate: 6.99 }
        ],
        notes: 'Connecticut taxes capital gains as ordinary income with progressive rates.'
    },
    'DE': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 2000, rate: 0 },
            { threshold: 5000, rate: 2.2 },
            { threshold: 10000, rate: 3.9 },
            { threshold: 20000, rate: 4.8 },
            { threshold: 25000, rate: 5.2 },
            { threshold: 60000, rate: 5.55 },
            { threshold: Infinity, rate: 6.6 }
        ],
        notes: 'Delaware taxes capital gains as ordinary income with progressive rates.'
    },
    'DC': {
        hasStateCapGains: true,
        taxesWithZeroIncome: true,
        brackets: [
            { threshold: 10000, rate: 4 },
            { threshold: 40000, rate: 6 },
            { threshold: 60000, rate:6.5 },
            { threshold: 250000, rate:8.5 },
            { threshold: 500000, rate:9.25 },
            { threshold: 1000000, rate: 9.75 },
            { threshold: Infinity, rate:10.75 }
        ],
        notes: 'DC taxes capital gains as ordinary income with progressive rates.'
    },
    'FL': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Florida has no state income tax or capital gains tax.'
    },
    'GA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 750, rate: 1 },
            { threshold: 2250, rate: 2 },
            { threshold: 3750, rate: 3 },
            { threshold: 5250, rate: 4 },
            { threshold: 7000, rate: 5 },
            { threshold: Infinity, rate: 5.75 }
        ],
        notes: 'Georgia taxes capital gains as ordinary income with progressive rates.'
    },
    'HI': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 2400, rate: 1.4 },
            { threshold: 4800, rate: 3.2 },
            { threshold: 9600, rate: 5.5 },
            { threshold: 14400, rate: 6.4 },
            { threshold: 19200, rate: 6.8 },
            { threshold: 24000, rate: 7.2 },
            { threshold: 36000, rate: 7.6 },
            { threshold: 48000, rate: 7.9 },
            { threshold: 150000, rate: 8.25 },
            { threshold: 175000, rate: 9 },
            { threshold: 200000, rate: 10 },
            { threshold: Infinity, rate: 11 }
        ],
        notes: 'Hawaii has one of the highest state tax rates with multiple brackets.'
    },
    'IA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 3.90 }
        ],
        notes: 'Iowa has implemented a flat tax rate of 3.90% for 2024.'
    },
    'ID': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 5.8 }
        ],
        notes: 'Idaho has a flat tax rate of 5.8% as of 2024.'
    },
    'IL': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.95 }
        ],
        notes: 'Illinois taxes capital gains at a flat 4.95% rate.'
    },
    'IN': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 3.15 }
        ],
        notes: 'Indiana has a flat tax rate and taxes capital gains as ordinary income.'
    },
    'KS': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 15000, rate: 3.1 },
            { threshold: 30000, rate: 5.25 },
            { threshold: Infinity, rate: 5.7 }
        ],
        notes: 'Kansas taxes capital gains as ordinary income with progressive rates.'
    },
    'KY': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.5 }
        ],
        notes: 'Kentucky has a flat tax rate of 4.5% for all income including capital gains.'
    },
    'LA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 12500, rate: 1.85 },
            { threshold: 50000, rate: 3.5 },
            { threshold: Infinity, rate: 4.25 }
        ],
        notes: 'Louisiana taxes capital gains as ordinary income with progressive rates.'
    },
    'MA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 5 }
        ],
        notes: 'Massachusetts has a renters credit allowing a deduction up to $4,000 spent on rent.'
    },
    'MD': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 1000, rate: 2 },
            { threshold: 2000, rate: 3 },
            { threshold: 3000, rate: 4 },
            { threshold: 100000, rate: 4.75 },
            { threshold: 125000, rate: 5 },
            { threshold: 150000, rate: 5.25 },
            { threshold: 250000, rate: 5.5 },
            { threshold: Infinity, rate: 5.75 }
        ],
        notes: 'Maryland taxes capital gains as ordinary income with progressive rates.'
    },
    'ME': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 24500, rate: 5.8 },
            { threshold: 58050, rate: 6.75 },
            { threshold: Infinity, rate: 7.15 }
        ],
        notes: 'Maine taxes capital gains as ordinary income with progressive rates.'
    },
    'MI': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.25 }
        ],
        notes: 'Michigan taxes capital gains at a flat 4.25% rate.'
    },
    'MN': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 30070, rate: 5.35 },
            { threshold: 98760, rate: 6.8 },
            { threshold: 164400, rate: 7.85 },
            { threshold: Infinity, rate: 9.85 }
        ],
        notes: 'Minnesota taxes capital gains as ordinary income with progressive rates.'
    },
    'MO': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 1121, rate: 1.5 },
            { threshold: 2242, rate: 2 },
            { threshold: 3363, rate: 2.5 },
            { threshold: 4484, rate: 3 },
            { threshold: 5605, rate: 3.5 },
            { threshold: 6726, rate: 4 },
            { threshold: 7847, rate: 4.5 },
            { threshold: 8968, rate: 5 },
            { threshold: Infinity, rate: 5.3 }
        ],
        notes: 'Missouri taxes capital gains as ordinary income with progressive rates.'
    },
    'MS': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 10000, rate: 4.4 },
            { threshold: Infinity, rate: 4.4 }
        ],
        notes: 'Mississippi taxes capital gains as ordinary income with progressive rates.'
    },
    'MT': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3300, rate: 1 },
            { threshold: 5800, rate: 2 },
            { threshold: 8900, rate: 3 },
            { threshold: 12000, rate: 4 },
            { threshold: 15400, rate: 5 },
            { threshold: 19800, rate: 6 },
            { threshold: Infinity, rate: 6.75 }
        ],
        notes: 'Montana taxes capital gains as ordinary income with progressive rates.'
    },
    'NC': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.75 }
        ],
        notes: 'North Carolina has a flat income tax rate of 4.75% for 2024.'
    },
    'ND': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 41775, rate: 1.1 },
            { threshold: 100450, rate: 2.04 },
            { threshold: 221050, rate: 2.64 },
            { threshold: Infinity, rate: 2.90 }
        ],
        notes: 'North Dakota taxes capital gains as ordinary income with progressive rates.'
    },
    'NE': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3700, rate: 2.46 },
            { threshold: 22170, rate: 3.51 },
            { threshold: 35730, rate: 5.01 },
            { threshold: Infinity, rate: 6.84 }
        ],
        notes: 'Nebraska taxes capital gains as ordinary income with progressive rates.'
    },
    'NH': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'New Hampshire has no general income tax or capital gains tax.'
    },
    'NJ': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 20000, rate: 1.4 },
            { threshold: 35000, rate: 1.75 },
            { threshold: 40000, rate: 3.5 },
            { threshold: 75000, rate: 5.525 },
            { threshold: 500000, rate: 6.37 },
            { threshold: 1000000, rate: 10.75 },
            { threshold: Infinity, rate: 10.75 }
        ],
        notes: 'New Jersey taxes capital gains as ordinary income with progressive rates from 1.4% to 10.75%.'
    },
    'NM': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 5500, rate: 1.7 },
            { threshold: 11000, rate: 3.2 },
            { threshold: 16000, rate: 4.7 },
            { threshold: 24000, rate: 4.9 },
            { threshold: Infinity, rate: 5.9 }
        ],
        notes: 'New Mexico taxes capital gains as ordinary income with progressive rates.'
    },
    'NV': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Nevada has no state income tax or capital gains tax.'
    },
    'NY': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 13900, rate: 4 },
            { threshold: 80650, rate: 5.97 },
            { threshold: 215400, rate: 6.33 },
            { threshold: 1077550, rate: 6.85 },
            { threshold: 5000000, rate: 9.65 },
            { threshold: 25000000, rate: 10.3 },
            { threshold: Infinity, rate: 10.9 }
        ],
        notes: 'New York taxes capital gains as ordinary income with progressive rates from 4% to 10.9%.'
    },
    'NYC': {
    hasStateCapGains: true,
    taxesWithZeroIncome: false,
    brackets: [
        { threshold: 12000, rate: 7.078 },     // 4.000% (state) + 3.078% (city)
        { threshold: 13900, rate: 7.762 },     // 4.000% (state) + 3.762% (city)
        { threshold: 25000, rate: 7.819 },     // 4.000% (state) + 3.819% (city)
        { threshold: 50000, rate: 7.876 },     // 4.000% (state) + 3.876% (city)
        { threshold: 80650, rate: 9.846 },     // 5.970% (state) + 3.876% (city)
        { threshold: 215400, rate: 10.206 },   // 6.330% (state) + 3.876% (city)
        { threshold: 1077550, rate: 10.726 },  // 6.850% (state) + 3.876% (city)
        { threshold: 5000000, rate: 13.526 },  // 9.650% (state) + 3.876% (city)
        { threshold: 25000000, rate: 14.176 }, // 10.300% (state) + 3.876% (city)
        { threshold: Infinity, rate: 14.776 }  // 10.900% (state) + 3.876% (city)
    ],
    notes: 'Combined New York State and New York City tax rates. NYC residents pay both state and city taxes, with total progressive rates ranging from 7.078% to 14.776%. Capital gains are taxed as ordinary income.'
},
    'OH': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 3.75 }
        ],
        notes: 'Ohio has a flat tax rate and taxes capital gains as ordinary income.'
    },
    'OK': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 1000, rate: 0.5 },
            { threshold: 2500, rate: 1 },
            { threshold: 3750, rate: 2 },
            { threshold: 4900, rate: 3 },
            { threshold: 7200, rate: 4 },
            { threshold: Infinity, rate: 5 }
        ],
        notes: 'Oklahoma taxes capital gains as ordinary income with progressive rates.'
    },
    'OR': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3750, rate: 4.75 },
            { threshold: 9450, rate: 6.75 },
            { threshold: 125000, rate: 8.75 },
            { threshold: 250000, rate: 9.9 },
            { threshold: Infinity, rate: 9.9 }
        ],
        notes: 'Oregon taxes capital gains as ordinary income with progressive rates.'
    },
    'PA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 3.07 }
        ],
        notes: 'Pennsylvania has a flat tax rate and taxes capital gains as ordinary income.'
    },
    'RI': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 66200, rate: 3.75 },
            { threshold: 155950, rate: 4.75 },
            { threshold: Infinity, rate: 5.99 }
        ],
        notes: 'Rhode Island taxes capital gains as ordinary income with progressive rates.'
    },
    'SC': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3000, rate: 0 },
            { threshold: 6000, rate: 3 },
            { threshold: 15000, rate: 4 },
            { threshold: Infinity, rate: 5 }
        ],
        notes: 'South Carolina taxes capital gains as ordinary income with progressive rates.'
    },
    'SD': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'South Dakota has no state income tax.'
    },
    'TN': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Tennessee has no state income tax.'
    },
    'TX': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Texas has no state income tax.'
    },
    'UT': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 4.85 }
        ],
        notes: 'Utah has a flat tax rate and taxes capital gains as ordinary income.'
    },
    'VT': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 42550, rate: 3.35 },
            { threshold: 103200, rate: 6.6 },
            { threshold: 203600, rate: 7.6 },
            { threshold: Infinity, rate: 8.75 }
        ],
        notes: 'Vermont taxes capital gains as ordinary income with progressive rates.'
    },
    'VA': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 3000, rate: 2 },
            { threshold: 5000, rate: 3 },
            { threshold: 17000, rate: 5 },
            { threshold: Infinity, rate: 5.75 }
        ],
        notes: 'Virginia taxes capital gains as ordinary income with progressive rates.'
    },
    'WA': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Washington has no state income tax.'
    },
    'WV': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 10000, rate: 3 },
            { threshold: 25000, rate: 4 },
            { threshold: 40000, rate: 4.5 },
            { threshold: 60000, rate: 6 },
            { threshold: Infinity, rate: 6.5 }
        ],
        notes: 'West Virginia taxes capital gains as ordinary income with progressive rates.'
    },
    'WI': {
        hasStateCapGains: true,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: 13810, rate: 3.54 },
            { threshold: 27630, rate: 4.65 },
            { threshold: 304170, rate: 6.27 },
            { threshold: Infinity, rate: 7.65 }
        ],
        notes: 'Wisconsin taxes capital gains as ordinary income with progressive rates.'
    },
    'WY': {
        hasStateCapGains: false,
        taxesWithZeroIncome: false,
        brackets: [
            { threshold: Infinity, rate: 0 }
        ],
        notes: 'Wyoming has no state income tax.'
    }
};
const statePersonalExemptionDB = {
    'NY': {
        exemptionType: 'Standard Deduction',
        amount: 8000,
        notes: 'Uses federal standard deduction amounts. Single filer: $15,000, Married filing jointly: $30,000, Head of household: $22,500'
    },
    'IL': {
        exemptionType: 'Personal Exemption',
        amount: 2425,
        notes: 'Personal exemption allowance per person. Additional $1,000 for individuals 65 and older or legally blind'
    },
    'MA': {
        exemptionType: 'Personal Exemption',
        amount: 1000,
        notes: 'Single filer: $4,400, Married filing jointly: $8,800, Head of household: $6,800'
    },
    'PA': {
        exemptionType: 'None',
        amount: 0,
        notes: 'Pennsylvania has no standard deduction or personal exemption. Uses flat tax rate of 3.07%. Tax Forgiveness program available separately based on income and family size'
    },
    'VA': {
        exemptionType: 'Standard Deduction',
        amount: 8500,
        notes: 'Standard deduction of $8,500 for all filing statuses'
    },
    'AZ': {
        exemptionType: 'Standard Deduction',
        amount: 14600,
        notes: 'Single: $12,950, Married filing jointly: $25,900'
    },
    'MN': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Single: $13,825, Married filing jointly: $27,650. Additional standard deduction for age 65+ or blind'
    },
    'GA': {
        exemptionType: 'Standard Deduction',
        amount: 12000,
        notes: 'Single: $12,000, Married filing jointly: $24,000. Additional amounts for age 65+ or blind'
    },
    'OH': {
        exemptionType: 'Personal Exemption',
        amount: 26050,
        notes: 'Personal exemption credit amount varies based on income. Range: $2,400-$2,800 per person'
    },
    'IN': {
        exemptionType: 'Personal Exemption',
        amount: 1000,
        notes: 'Base exemption $1,000 per person. Additional $1,500 for dependents, $1,000 for age 65+'
    },
    'MO': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'MI': {
        exemptionType: 'Personal Exemption',
        amount: 5400,
        notes: 'Personal exemption amount per person. Additional exemption for seniors and disabled'
    },
    'MD': {
        exemptionType: 'Standard Deduction',
        amount: 2700,
        notes: 'Single: $2,400, Married filing jointly: $4,850. Additional amounts for age 65+ or blind'
    },
    'UT': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'NJ': {
        exemptionType: 'Personal Exemption',
        amount: 1000,
        notes: 'Personal exemption per person. Additional exemptions for age 65+ and blind'
    },
    'AL': {
        exemptionType: 'Standard Deduction',
        amount: 3000,
        notes: 'Single: $2,500, Married filing jointly: $7,500. Additional personal exemption of $1,500'
    },
    'CO': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'DC': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Single: $12,950, Married filing jointly: $25,900'
    },
    'LA': {
        exemptionType: 'Combined Exemption/Deduction',
        amount: 4500,
        notes: 'Combined personal exemption/standard deduction. Single: $4,500, Married filing jointly: $9,000'
    },
    'VT': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Single: $6,800, Married filing jointly: $13,600'
    },
    'WI': {
        exemptionType: 'Standard Deduction',
        amount: 12120,
        notes: 'Single: $12,120, Married filing jointly: $22,260. Phases out at higher income levels'
    },
    'CT': {
        exemptionType: 'Personal Exemption',
        amount: 15000,
        notes: 'Single: $15,000, Married filing jointly: $24,000. Phases out at higher income levels'
    },
    'SC': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'OK': {
        exemptionType: 'Standard Deduction',
        amount: 10000,
        notes: 'Single: $6,350, Married filing jointly: $12,700'
    },
    'OR': {
        exemptionType: 'Standard Deduction',
        amount: 5495,
        notes: 'Single: $2,420, Married filing jointly: $4,840. Additional credit for personal exemptions'
    },
    'NE': {
        exemptionType: 'Standard Deduction',
        amount: 12000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'MS': {
        exemptionType: 'Standard Deduction',
        amount: 6000,
        notes: 'Single: $6,000, Married filing jointly: $12,000'
    },
    'KS': {
        exemptionType: 'Standard Deduction',
        amount: 3500,
        notes: 'Single: $3,500, Married filing jointly: $8,000'
    },
    'IA': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Single: $2,210, Married filing jointly: $5,450'
    },
    'AR': {
        exemptionType: 'Standard Deduction',
        amount: 3000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'WV': {
        exemptionType: 'Personal Exemption',
        amount: 2000,
        notes: 'Personal exemption of $2,000 per person'
    },
    'NM': {
        exemptionType: 'Standard Deduction',
        amount: 3000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'RI': {
        exemptionType: 'Standard Deduction',
        amount: 12000,
        notes: 'Single: $9,300, Married filing jointly: $18,600'
    },
    'DE': {
        exemptionType: 'Standard Deduction',
        amount: 3250,
        notes: 'Single: $3,250, Married filing jointly: $6,500. Additional personal credits available'
    },
    'ID': {
        exemptionType: 'Standard Deduction',
        amount:0,
        notes: 'Single: $15,000, Married filing jointly: $30,000'
    },
    'ME': {
        exemptionType: 'Standard Deduction',
        amount: 12000,
        notes: 'Follows federal standard deduction amounts. Single: $15,000, Married filing jointly: $30,000'
    },
    'MT': {
        exemptionType: 'Standard Deduction',
        amount: 15000,
        notes: 'Single: $5,590, Married filing jointly: $11,180. Additional personal exemption credit available'
    }
};

        const state529DB = {
            'CA': {
                planName: 'ScholarShare 529',
                deduction: 0,
                notes: 'California does not offer state tax deductions for 529 contributions, but earnings grow tax-free.'
            },
            'NY': {
                planName: 'New Yorks 529 Plan',
                deduction: 5000,
                notes: 'New York taxpayers can deduct up to $5,000 per year ($10,000 for married filing jointly) of their 529 plan contributions.'
            },
            'NYC': {
                planName: 'New Yorks 529 Plan',
                deduction: 5000,
                notes: 'New York taxpayers can deduct up to $5,000 per year ($10,000 for married filing jointly) of their 529 plan contributions.'
            },
            'MA': {
                planName: 'U.Fund College Investing Plan',
                deduction: 1000,
                notes: 'Massachusetts taxpayers can deduct up to $1,000 per year ($2,000 for married filing jointly) of their 529 plan contributions.'
            },
            'FL': {
                planName: 'Florida 529 Savings Plan',
                deduction: 0,
                notes: 'Florida has no state income tax, so there are no state tax deductions. However, earnings grow tax-free.'
            },
            'MI': {
                planName: 'Michigan Education Savings Program (MESP)',
                deduction: 5000,
                notes: 'Michigan taxpayers can deduct up to $5,000 per year ($10,000 for married filing jointly) of their 529 plan contributions.'
            },
            'MO': {
                planName: 'Missouri529',
                deduction: 8000,
                notes: 'Missouri taxpayers can deduct up to $8,000 per year ($16,000 for married filing jointly) of their 529 plan contributions.'
            },
            'IL': {
                planName: 'Bright Start College Savings',
                deduction: 10000,
                notes: 'Illinois taxpayers can deduct up to $10,000 per year ($20,000 for married filing jointly) of their 529 plan contributions.'
            },
            'NJ': {
                planName: 'NJBEST 529 College Savings Plan',
                deduction: 10000,
                notes: 'New Jersey does offers state tax deductions for 529 contributions and earnings grow tax-free.'
            },
            'CO': {
                planName: 'CollegeInvest 529 Plan',
                deduction: 25400,
                notes: 'Colorado offers a full deduction for contributions to its 529 plan, with no limit.'
            },
            'CT': {
                planName: 'CHET 529 College Savings Program',
                deduction: 5000,
                notes: 'Connecticut taxpayers can deduct up to $5,000 ($10,000 if married filing jointly) of contributions.'
            },
            'DE': {
                planName: 'Delaware College Investment Plan',
                deduction: 1000,
                notes: 'Delaware offers a state tax deductions for 529 contributions.'
            },
            'FL': {
                planName: 'Florida 529 Savings Plan',
                deduction: 0,
                notes: 'No state tax benefit as Florida has no state income tax.'
            },
            'GA': {
                planName: 'Path2College 529 Plan',
                deduction: 4000,
                notes: 'Georgia taxpayers can deduct up to $4,000 per beneficiary ($8,000 if married filing jointly).'
            },
            'HI': {
                planName: 'HI529 College Savings Program',
                deduction: 0,
                notes: 'Hawaii does not offer state tax deductions for 529 contributions.'
            },
            'ID': {
                planName: 'IDeal - Idaho College Savings Program',
                deduction: 6000,
                notes: 'Idaho taxpayers can deduct up to $6,000 ($12,000 if married filing jointly) of contributions.'
            },
            'AK': {
                planName: 'Alaska 529 Plan - T. Rowe Price College Savings Plan',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax, but plan offers tax-free growth.'
            },
            'AZ': {
                planName: 'Arizona Family College Savings Program (AZ529)',
                deduction: 2000,
                notes: 'Arizona taxpayers can deduct up to $2,000 per year ($4,000 for married filing jointly).'
            },
            'AR': {
                planName: 'GIFTS Arkansas 529 Plan',
                deduction: 5000,
                notes: 'Arkansas taxpayers can deduct up to $5,000 per year ($10,000 for married filing jointly).'
            },
            'TX': {
                planName: 'Texas College Savings Plan',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax, but plan offers investment benefits.'
            },
            'WA': {
                planName: 'Washington College Savings Plan (DreamAhead)',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax, but plan offers investment benefits.'
            },
            'WY': {
                planName: 'WYOStars 529 College Savings Plan',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax, but plan offers investment benefits.'
            },
            'WI': {
                planName: 'Wisconsin 529 College Savings Plan',
                deduction: 5000,
                notes: 'Wisconsin offers $5,000'
            },
            'AL': {
                planName: 'CollegeCounts 529 Fund',
                deduction: 5000,
                notes: 'Alabama taxpayers can deduct 529 contributions on state taxes.'
            },
            'NM': {
                planName: 'The New Mexico Learning Alliance',
                deduction: Infinity,
                notes: 'No state tax deduction, but plan offers investment benefits.'
            },
            'ND': {
                planName: 'College SAVE Plan',
                deduction: 5000,
                notes: 'North Dakota taxpayers can deduct up to $5,000 ($10,000 for married filing jointly).'
            },
            'OH': {
                planName: 'Ohio 529 Plan',
                deduction: 4000,
                notes: 'Ohio taxpayers can deduct up to $4,000 per beneficiary per year.'
            },
            'OK': {
                planName: 'STABLE Oklahoma 529 Savings Plan',
                deduction: 10000,
                notes: 'Oklahoma taxpayers can deduct up to $10,000 ($20,000 for married filing jointly).'
            },
            //OREGON IS WRONG
            'OR': {
                planName: 'Oregon College Savings Plan',
                deduction: 150,
                notes: 'Oregon taxpayers can get $150 per year.'
            },
            'PA': {
                planName: 'PA 529 Investment Plan',
                deduction: 18000,
                notes: 'Pennsylvania taxpayers can deduct 529 contributions.'
            },
            'RI': {
                planName: 'CollegeBound 529',
                deduction: 500,
                notes: 'No state tax deduction, but plan offers investment benefits.'
            },
            'SC': {
                planName: 'Future Scholar 529 Plan',
                deduction: Infinity,
                notes: 'South Carolina taxpayers can deduct up to $10,000 ($20,000 for married filing jointly).'
            },
            'SD': {
                planName: 'College Access 529 Plan',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax.'
            },
            'TN': {
                planName: 'TNStars College Savings 529 Program',
                deduction: 0,
                notes: 'No state tax deduction due to no state income tax.'
            },
            'UT': {
                planName: 'my529',
                deduction: 4000,
                notes: 'Utah taxpayers can deduct up to $4,000 per beneficiary per year.'
            },
            'VT': {
                planName: 'Vermont 529 Plan',
                deduction: 2500,
                notes: 'Vermont taxpayers can deduct up to $2,500 per beneficiary per year.'
            },
            'VA': {
                planName: 'Virginia529',
                deduction: 4000,
                notes: 'Virginia taxpayers can deduct up to $4,000 per beneficiary per year.'
            },
            'WV': {
                planName: 'SMART 529 West Virginia',
                deduction: Infinity,
                notes: 'No state tax deduction, but plan offers investment benefits.'
            },
            'IA': {
                // 529 Plan Information
                planName: 'College Savings Iowa 529 Plan',
                deduction: 5500,  // $4,000 per beneficiary
                notes: 'Iowa taxpayers can deduct up to $4,000 per beneficiary for 529 plan contributions'
            },
            'IN': {
                // 529 Plan Information
                planName: 'Indiana 529 Direct',
                deduction: 50000,  // $4,000 per beneficiary
                notes: 'Indiana taxpayers can deduct 20% of contribution up to $1,500 per beneficiary for 529 plan contributions'
            },
            'NC': {
                planName: 'NC 529 Plan',
                deduction: 0,
                notes: 'North Carolina taxpayers cannot deduct'
            },
            'KS': {
                planName: 'KS 529 Plan',
                deduction: 1000,
                notes: 'Kansataxpayers can deduct up to $150 credit '
            },
            'KY': {
                planName: 'KY 529 Plan',
                deduction: 0,
                notes: 'Kentucky taxpayers cannot deduct'
            },
            'LA': {
                planName: 'LA 529 Plan',
                deduction: 2400,
                notes: 'Louisiana taxpayers can deduct up to $2,400 per year for 529 contributions'
            },
            'ME': {
                planName: 'ME 529 Plan',
                deduction: 1000,
                notes: 'Maine taxpayers can deduct up to $1,000 per beneficiary per year for 529 contributions'
            },
            'MD': {
                planName: 'MD 529 Plan',
                deduction: 2500,
                notes: 'Maryland taxpayers can deduct up to $2,500 per year for 529 contributions'
            },
            'MN': {
                planName: 'MN 529 Plan',
                deduction: 1500,
                notes: 'Minnesota taxpayers can deduct up to $1,500 per beneficiary per year for 529 contributions'
            },
            'MS': {
                planName: 'MS 529 Plan',
                deduction: 10000,
                notes: 'Mississippi taxpayers can deduct up to $10,000 per year for 529 contributions'
            },
            'MT': {
                planName: 'MT 529 Plan',
                deduction: 3000,
                notes: 'Montana taxpayers can deduct up to $3,000 per year for 529 contributions'
            },
            'NE': {
                planName: 'NE 529 Plan',
                deduction: 10000,
                notes: 'Nebraska taxpayers can deduct up to $10,000 per year for 529 contributions'
            },
            'NV': {
                planName: 'NV 529 Plan',
                deduction: 0,
                notes: 'Nevada taxpayers cannot deduct'
            },
            'DC': {
                planName: 'DC College Savings Plan',
                deduction: 4000,
                notes: 'DC taxpayers can deduct up to $4,000 ($8,000 married filing jointly) per year for 529 contributions'
            },
            'NH': {
                planName: 'NH 529 Plan',
                deduction: 0,
                notes: 'New Hampshire taxpayers cannot deduct'
            }

        };
        const snapDB = {
            'AL': {
                url: 'https://mydhr.alabama.gov/',
                notes: 'Apply through Alabama DHR website'
            },
            'AK': {
                url: 'https://dfcs.alaska.gov/Application',
                notes: 'Alaska Division of Public Assistance'
            },
            'AZ': {
                url: 'https://des.az.gov/na',
                notes: 'Arizona Department of Economic Security'
            },
            'AR': {
                url: 'https://access.arkansas.gov/',
                notes: 'Arkansas Department of Human Services'
            },
            'CA': {
                url: 'https://www.cdss.ca.gov/calfresh',
                notes: 'CalFresh Benefits Application'
            },
            'CO': {
                url: 'https://peak.my.site.com/peak/s/peak-landing-page?language=en_US',
                notes: 'Colorado PEAK System'
            },
            'CT': {
                url: 'https://portal.ct.gov/connect',
                notes: 'Connecticut DSS Connect'
            },
            'DE': {
                url: 'https://assist.dhss.delaware.gov/',
                notes: 'Delaware ASSIST'
            },
            'FL': {
                url: 'https://www.myflorida.com/accessflorida/',
                notes: 'Florida ACCESS'
            },
            'GA': {
                url: 'https://gateway.ga.gov/',
                notes: 'Georgia Gateway'
            },
            'HI': {
                url: 'https://pais-benefits.dhs.hawaii.gov/',
                notes: 'Hawaii PAIS'
            },
            'ID': {
                url: 'https://idalink.idaho.gov/',
                notes: 'Idaho Idalink'
            },
            'IL': {
                url: 'https://abe.illinois.gov/',
                notes: 'Illinois ABE'
            },
            'IN': {
                url: 'https://fssabenefits.in.gov/',
                notes: 'Indiana FSSA'
            },
            'IA': {
                url: 'https://dhs.iowa.gov/food-assistance',
                notes: 'Iowa DHS'
            },
            'KS': {
                url: 'https://cssp.kees.ks.gov/',
                notes: 'Kansas KEES'
            },
            'KY': {
                url: 'https://kynect.ky.gov/',
                notes: 'Kentucky kynect'
            },
            'LA': {
                url: 'http://dcfs.la.gov/cafe',
                notes: 'Louisiana CAF'
            },
            'ME': {
                url: 'https://www.maine.gov/mymaineconnection/',
                notes: 'Maine Connection'
            },
            'MD': {
                url: 'https://mydhrbenefits.dhr.state.md.us/',
                notes: 'Maryland DHR'
            },
            'MA': {
                url: 'https://dtaconnect.eohhs.mass.gov/',
                notes: 'Massachusetts DTA Connect'
            },
            'MI': {
                url: 'https://newmibridges.michigan.gov/',
                notes: 'Michigan MIBridges'
            },
            'MN': {
                url: 'https://mn.gov/dhs/food-emergency/',
                notes: 'Minnesota DHS'
            },
            'MS': {
                url: 'https://www.access.ms.gov/',
                notes: 'Mississippi Access'
            },
            'MO': {
                url: 'https://mydss.mo.gov/',
                notes: 'Missouri DSS'
            },
            'MT': {
                url: 'https://apply.mt.gov/',
                notes: 'Montana DPHHS'
            },
            'NE': {
                url: 'https://dhhs-access-neb-menu.ne.gov/',
                notes: 'Nebraska ACCESS'
            },
            'NV': {
                url: 'https://dwss.nv.gov/',
                notes: 'Nevada DWSS'
            },
            'NH': {
                url: 'https://nheasy.nh.gov/',
                notes: 'New Hampshire EASY'
            },
            'NJ': {
                url: 'https://oneapp.dhs.state.nj.us/',
                notes: 'New Jersey OneApp'
            },
            'NM': {
                url: 'https://www.yes.state.nm.us/',
                notes: 'New Mexico YES'
            },
            'NY': {
                url: 'https://mybenefits.ny.gov/',
                notes: 'New York myBenefits'
            },
            'NYC': {
                url: 'https://mybenefits.ny.gov/',
                notes: 'New York myBenefits'
            },
            'NC': {
                url: 'https://epass.nc.gov/',
                notes: 'North Carolina ePASS'
            },
            'ND': {
                url: 'https://www.applyforhelp.nd.gov/',
                notes: 'North Dakota Apply for Help'
            },
            'OH': {
                url: 'https://benefits.ohio.gov/',
                notes: 'Ohio Benefits'
            },
            'OK': {
                url: 'https://www.okdhslive.org/',
                notes: 'Oklahoma DHS Live'
            },
            'OR': {
                url: 'https://one.oregon.gov/',
                notes: 'Oregon ONE'
            },
            'PA': {
                url: 'https://www.compass.state.pa.us/',
                notes: 'Pennsylvania COMPASS'
            },
            'RI': {
                url: 'https://healthyrhode.ri.gov/',
                notes: 'Rhode Island HealthyRhode'
            },
            'SC': {
                url: 'https://scmapp.sc.gov/',
                notes: 'South Carolina SCMAPP'
            },
            'SD': {
                url: 'https://dss.sd.gov/',
                notes: 'South Dakota DSS'
            },
            'TN': {
                url: 'https://faonlineapp.dhs.tn.gov/',
                notes: 'Tennessee DHS'
            },
            'TX': {
                url: 'https://yourtexasbenefits.com/',
                notes: 'Your Texas Benefits'
            },
            'UT': {
                url: 'https://jobs.utah.gov/mycase/',
                notes: 'Utah myCase'
            },
            'VT': {
                url: 'https://portal.healthconnect.vermont.gov/',
                notes: 'Vermont Health Connect'
            },
            'VA': {
                url: 'https://commonhelp.virginia.gov/',
                notes: 'Virginia CommonHelp'
            },
            'WA': {
                url: 'https://www.washingtonconnection.org/',
                notes: 'Washington Connection'
            },
            'WV': {
                url: 'https://www.wvpath.org/',
                notes: 'West Virginia PATH'
            },
            'WI': {
                url: 'https://access.wisconsin.gov/',
                notes: 'Wisconsin ACCESS'
            },
            'WY': {
                url: 'https://dfs.wyo.gov/',
                notes: 'Wyoming DFS'
            }
        };
        
        // School database (same as before)
        const schoolsDB = {
            'other': {
                name: 'My School Isn\'t Listed Yet (click here)',
                state: null,
                retirementPlans: {
                    has403b: false,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for Roth IRA contributions'
                }
            },
            'harvard': {
                name: 'Harvard University',
                state: 'MA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'mit': {
                name: 'Massachusetts Institute of Technology',
                state: 'MA',
                retirementPlans: {
                    has403b: false,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'tufts': {
                name: 'Tufts University',
                state: 'MA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'cmu': {
                name: 'Carnegie Mellon University',
                state: 'PA',
                retirementPlans: {
                    has403b: false,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'bu': {
                name: 'Boston University',
                state: 'MA',
                retirementPlans: {
                    has403b: false,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'columbia': {
                name: 'Columbia University',
                state: 'NYC',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'NYU': {
                name: 'New York University',
                state: 'NYC',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'princeton': {
                name: 'Princeton University',
                state: 'NJ',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) contributions, no match'
                }
            },
            'stanford': {
                name: 'Stanford University',
                state: 'CA',
                retirementPlans: {
                    has403b: false,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'berkeley': {
                name: 'UC Berkeley',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'davis': {
                name: 'UC Davis',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'irvine': {
                name: 'UC Irvine',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'ucla': {
                name: 'UC Los Angeles',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'merced': {
                name: 'UC Merced',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'riverside': {
                name: 'UC Riverside',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'ucsd': {
                name: 'UC San Diego',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'ucsf': {
                name: 'UC San Francisco',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'ucsb': {
                name: 'UC Santa Barbara',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'ucsc': {
                name: 'UC Santa Cruz',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary 403(b) & 457(b) contributions, no match'
                }
            },
            'uf': {
                name: 'University of Florida',
                state: 'FL',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: '1 year'
                }
            },
            'umich': {
                name: 'University of Michigan',
                state: 'MI',
                retirementPlans: {
                    has403b: true,
                    has457b: true,
                    employerMatch: '0%',
                    vestingPeriod: '3 years'
                }
            },
            'uchicago': {
                name: 'University of Chicago',
                state: 'IL',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: '3 years'
                }
            },
            'Urbana-Champaign': {
                name: 'University of Illinois Urbana-Champaign',
                state: 'IL',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: '3 years'
                }
            },
            'Des Moines University': {
                name: 'Des Moines University',
                state: 'IA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: '3 years'
                }
            },
            'northwestern': {
                name: 'Northwestern University',
                state: 'IL',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: '3 years'
                }
            },
            'yale': {
                name: 'Yale University',
                state: 'CT',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students eligible for voluntary retirement plan contributions'
                }
            },
            'princeton': {
                name: 'Princeton University',
                state: 'NJ',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students can participate in 403(b) plan with no employer match'
                }
            },
            'caltech': {
                name: 'California Institute of Technology (Caltech)',
                state: 'CA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students can make voluntary 403(b) contributions'
                }
            },
            'upenn': {
                name: 'University of Pennsylvania',
                state: 'PA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary retirement plan options for graduate students'
                }
            },
            'duke': {
                name: 'Duke University',
                state: 'NC',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students can participate in 403(b) plan'
                }
            },
            'brown': {
                name: 'Brown University',
                state: 'RI',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) contributions available for graduate students'
                }
            },
            'northwestern': {
                name: 'Northwestern University',
                state: 'IL',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students can access voluntary retirement plans'
                }
            },
            'dartmouth': {
                name: 'Dartmouth College',
                state: 'NH',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'cornell': {
                name: 'Cornell University',
                state: 'NY',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees'
                }
            },
            'rice': {
                name: 'Rice University',
                state: 'TX',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) contributions for graduate students'
                }
            },
            'vanderbilt': {
                name: 'Vanderbilt University',
                state: 'TN',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Grad students can participate in 403(b) plan'
                }
            },
            'emory': {
                name: 'Emory University',
                state: 'GA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) contributions for graduate students'
                }
            },
            'rochester': {
                name: 'University of Rochester',
                state: 'NY',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees'
                }
            },
            'umass': {
                name: 'University of Massachusetts Amherst',
                state: 'MA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary retirement plans available for graduate students'
                }
            },
            'washingtonustl': {
                name: 'Washington University in St. Louis',
                state: 'MO',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'arizona': {
                name: 'University of Arizona',
                state: 'AZ',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary retirement plans available for graduate students'
                }
            },
            'colorado': {
                name: 'University of Colorado Boulder',
                state: 'CO',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees and researchers'
                }
            },
            'colorado-school-of-mines': {
                name: 'Colorado School of Mines',
                state: 'CO',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees and researchers'
                }
            },
            'georgia-tech': {
                name: 'Georgia Institute of Technology',
                state: 'GA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'iowa': {
                name: 'University of Iowa',
                state: 'IA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees'
                }
            },
            'indiana': {
                name: 'Indiana University Bloomington',
                state: 'IN',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plan for graduate student workers'
                }
            },
            'indiana': {
                name: 'University of Notre Dame',
                state: 'IN',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plan for graduate student workers'
                }
            },
            'iowa-state': {
                name: 'Iowa State University',
                state: 'IA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement options for graduate student employees'
                }
            },
            'kansas': {
                name: 'University of Kansas',
                state: 'KS',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'kentucky': {
                name: 'University of Kentucky',
                state: 'KY',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student employees'
                }
            },
            'louisiana-state': {
                name: 'Louisiana State University',
                state: 'LA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plans for graduate students'
                }
            },
            'maine': {
                name: 'University of Maine',
                state: 'ME',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate student employees'
                }
            },
            'minnesota': {
                name: 'University of Minnesota',
                state: 'MN',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement options for graduate students'
                }
            },
            'montana': {
                name: 'University of Montana',
                state: 'MT',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate student employees'
                }
            },
            'nebraska': {
                name: 'University of Nebraska-Lincoln',
                state: 'NE',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement plan options for graduate student workers'
                }
            },
            'nevada': {
                name: 'University of Nevada, Las Vegas',
                state: 'NV',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement options for graduate student employees'
                }
            },
            'north-dakota': {
                name: 'University of North Dakota',
                state: 'ND',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'oklahoma': {
                name: 'University of Oklahoma',
                state: 'OK',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plan for graduate student workers'
                }
            },
            'oregon': {
                name: 'University of Oregon',
                state: 'OR',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate student employees'
                }
            },
            'south-carolina': {
                name: 'University of South Carolina',
                state: 'SC',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement options for graduate student workers'
                }
            },
            'south-dakota': {
                name: 'University of South Dakota',
                state: 'SD',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'utah': {
                name: 'University of Utah',
                state: 'UT',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plan for graduate student employees'
                }
            },
            'washington-state': {
                name: 'Washington State University',
                state: 'WA',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Retirement options for graduate student workers'
                }
            },
            'west-virginia': {
                name: 'West Virginia University',
                state: 'WV',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            },
            'wisconsin': {
                name: 'University of Wisconsin-Madison',
                state: 'WI',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Comprehensive retirement plan for graduate student employees'
                }
            },
            'wyoming': {
                name: 'University of Wyoming',
                state: 'WY',
                retirementPlans: {
                    has403b: true,
                    has457b: false,
                    employerMatch: '0%',
                    vestingPeriod: 'n/a',
                    notes: 'Voluntary 403(b) plan for graduate students'
                }
            }
        };
        const stateOptions = {
            'AL': 'Alabama',
            'AK': 'Alaska',
            'AZ': 'Arizona',
            'AR': 'Arkansas',
            'CA': 'California',
            'CO': 'Colorado',
            'CT': 'Connecticut',
            'DE': 'Delaware',
            'DC': 'Washington District of Columbia',
            'FL': 'Florida',
            'GA': 'Georgia',
            'HI': 'Hawaii',
            'ID': 'Idaho',
            'IL': 'Illinois',
            'IN': 'Indiana',
            'IA': 'Iowa',
            'KS': 'Kansas',
            'KY': 'Kentucky',
            'LA': 'Louisiana',
            'ME': 'Maine',
            'MD': 'Maryland',
            'MA': 'Massachusetts',
            'MI': 'Michigan',
            'MN': 'Minnesota',
            'MS': 'Mississippi',
            'MO': 'Missouri',
            'MT': 'Montana',
            'NE': 'Nebraska',
            'NV': 'Nevada',
            'NH': 'New Hampshire',
            'NJ': 'New Jersey',
            'NM': 'New Mexico',
            'NY': 'New York',
            'NYC': 'New York City',
            'NC': 'North Carolina',
            'ND': 'North Dakota',
            'OH': 'Ohio',
            'OK': 'Oklahoma',
            'OR': 'Oregon',
            'PA': 'Pennsylvania',
            'PR': 'Puerto Rico',
            'RI': 'Rhode Island',
            'SC': 'South Carolina',
            'SD': 'South Dakota',
            'TN': 'Tennessee',
            'TX': 'Texas',
            'UT': 'Utah',
            'VT': 'Vermont',
            'VA': 'Virginia',
            'WA': 'Washington',
            'WV': 'West Virginia',
            'WI': 'Wisconsin',
            'WY': 'Wyoming'
        };
        // Add these variables at the top of the script
        let selectedState = null;
        let selectedSchool = null;

        // Modify the selectSchool function
        function selectSchool(id) {
            const school = schoolsDB[id];
            selectedSchool = school;
            selectedState = school.state;
            
            document.getElementById('schoolSearch').value = school.name;
            document.getElementById('schoolSuggestions').classList.add('hidden');
            document.getElementById('stateSelection').classList.add('hidden');

            window.dataLayer.push({
            'event': 'school_selected',
            'user_id': generateUserId(),
            'school_name': school.name,
            'school_state': school.state
        });
        }

        // Add selectState function
        function selectState(abbr, name) {
            selectedState = abbr;
            selectedSchool = null;
            document.getElementById('schoolSearch').value = `School in ${name}`;
            document.getElementById('stateSuggestions').classList.add('hidden');
            document.getElementById('stateSelection').classList.add('hidden');
            window.dataLayer.push({
            'event': 'state_selected',
            'user_id': generateUserId(),
            'state_abbr': abbr,
            'state_name': name
        });
        }


        // Modify nextBtn event listener
        

        // Add calculate function
        

        // Update showStep to handle the new layout
        
        // Navigation menu toggle
        
        // Form navigation
        let currentStep = 1;
        const form = document.getElementById('signup-form');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const steps = document.querySelectorAll('.form-step');
        const progressSteps = document.querySelectorAll('.progress-step');

        function showStep(stepNumber) {
            steps.forEach(step => step.classList.remove('active'));
            progressSteps.forEach((step, index) => {
                if (index < stepNumber) step.classList.add('active');
                else step.classList.remove('active');
            });
            
            steps[stepNumber - 1].classList.add('active');
            
            // Handle buttons visibility for step 4
            if (stepNumber === 4) {
                nextBtn.style.display = 'none';
                prevBtn.style.display = 'none';
                calculateAndDisplayBenefit();
            } else {
                prevBtn.style.display = stepNumber === 1 ? 'none' : 'block';
                nextBtn.style.display = 'block';
            }
        }

        nextBtn.addEventListener('click', () => {
            if (currentStep === 1 && !selectedState) {
                alert('Please select a school or state first');
                return;
            }
            
            if (currentStep < steps.length) {
                currentStep++;
                showStep(currentStep);
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        });
        // Add these functions
        function formatCurrency(input) {
            // Remove any characters that aren't numbers
            let value = input.value.replace(/[^\d]/g, '');
            
            // Format the number with commas and dollar sign
            if (value) {
                value = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(value);
                input.value = value;
            }
        }


        function initHowItWorks() {
          const howItWorks = document.getElementById('how-it-works');
          
          // Add hover effects to pricing cards
          const pricingCards = document.querySelectorAll('.pricing-card');
          pricingCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
              card.style.transform = 'translateY(-5px)';
              card.style.transition = 'transform 0.3s ease';
            });
            card.addEventListener('mouseleave', () => {
              card.style.transform = 'translateY(0)';
            });
          });
        }


         // Add to existing calculateAndDisplayBenefit function
        
        function calculateStateTaxRate(income, state) {
            if (income < 0) income = 0;
            
            const stateTaxInfo = stateTaxDB[state];
            if (!stateTaxInfo || !stateTaxInfo.brackets || stateTaxInfo.brackets.length === 0) {
                console.warn(`No tax bracket information found for state: ${state}`);
                return 0;
            }
            
            let totalTax = 0;
            let remainingIncome = income;
            let previousThreshold = 0;

            // Sort brackets by threshold to ensure correct calculation order
            const sortedBrackets = [...stateTaxInfo.brackets].sort((a, b) => a.threshold - b.threshold);
            
            // Calculate tax for each bracket
            for (let i = 0; i < sortedBrackets.length; i++) {
                const bracket = sortedBrackets[i];
                const nextThreshold = bracket.threshold;
                
                // Calculate taxable amount for this bracket
                const taxableInThisBracket = Math.min(
                    remainingIncome,
                    nextThreshold - previousThreshold
                );
                
                if (taxableInThisBracket <= 0) break;
                
                // Add tax for this bracket
                totalTax += (taxableInThisBracket * (bracket.rate / 100));
                
                // Update remaining income
                remainingIncome -= taxableInThisBracket;
                previousThreshold = nextThreshold;
                
                // If no more income to tax, break
                if (remainingIncome <= 0) break;
            }
            
            // Calculate effective tax rate
            return totalTax / income;
        }

        function calculateAndDisplayBenefit() {
    // Get input values
    const income = Number(document.getElementById('incomeInput').value.replace(/[^0-9.-]+/g, '')) || 0;
    const monthlyRent = Number(document.getElementById('rentInput').value.replace(/[^0-9.-]+/g, '')) || 0;
    const monthlyGrocery = 325; // Fixed amount for groceries
    
    const annualExpenses = (monthlyRent + monthlyGrocery) * 9;
    const state = selectedState;

    // Get state-specific deductions and tax info
    const statetaxdeduction = statePersonalExemptionDB[state]?.amount || 0;
    const stateDeduction = state529DB[state]?.deduction || 0;
    const taxablestateincome = income - statetaxdeduction;
    const taxRate = calculateStateTaxRate(taxablestateincome, state);
    
    // Calculate deductible amount
    const deductibleAmount = Math.min(
        annualExpenses,  // Actual expenses
        stateDeduction,  // State's max deduction
        taxablestateincome  // Limit to income if it's less than the deduction
    );
    const taxespaid = taxRate * taxablestateincome;
    
    // Calculate benefit based on state rules
    let benefit;
    if (state === 'IN') {
        const contributionCredit = deductibleAmount * 0.20;
        benefit = Math.min(contributionCredit, 1500, taxespaid);
    } else if (state === 'OR') {
        benefit = 180;
    } else if (state === 'MN') {
        if (income < 88810) {
            benefit = Math.min(500, .5*annualExpenses, taxespaid);
        } else {
            benefit = 0;
        }
    } else {
        benefit = Math.min(deductibleAmount * taxRate, taxespaid);
    }

    // Format benefit for display
    const formattedBenefit = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
    }).format(benefit);
    
    // Update main benefit display
    document.getElementById('benefitResult').textContent = formattedBenefit;
    
    // Calculate early refund amount
    const dailyRate = 0.05 / 365; // 5% APY converted to daily rate
    const lendingDays = 400;
    const serviceFee = 20;
    const baseFee = 89;
    
    const potentialEarlyAmount = benefit;
    const lendingCost = potentialEarlyAmount * (1 + dailyRate * lendingDays) - potentialEarlyAmount;
    
    const totalCosts = baseFee + serviceFee + lendingCost;
    const calculatedEarlyAmount = benefit - totalCosts;
    
    const maxEarlyAmount = benefit*.80;
    const earlyAmount = Math.min(calculatedEarlyAmount, maxEarlyAmount);
    
    const isViable = earlyAmount > 0;
    const finalEarlyAmount = isViable ? Math.floor(earlyAmount) : 0;
    
    const formattedEarlyAmount = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
    }).format(finalEarlyAmount);

    // Remove locked state from pricing cards
    const pricingCards = document.querySelectorAll('.pricing-card');
    pricingCards.forEach(card => {
        card.classList.remove('locked-state');
        card.classList.add('unlocked-state');
        const lockedMessage = card.querySelector('.locked-message');
        if (lockedMessage) {
            lockedMessage.remove();
        }
    });

    // Update early and later amounts in toggle displays
    document.getElementById('early-amount-display').textContent = `You Get ${formattedEarlyAmount} Today`;
    document.getElementById('later-amount-display').textContent = `You Get ${formattedBenefit} at Tax Time`;

    // Update CTA button
    const mainCtaButton = document.getElementById('main-cta-button');
    if (mainCtaButton) {
        mainCtaButton.textContent = finalEarlyAmount > 0 ? 
            `Get ${formattedEarlyAmount} Today` : 
            'Open Account to Check Eligibility';
    }

    // Update the featured card in the early tab with the early amount
    const earlyFeaturedCard = document.querySelector('#early .pricing-card:first-child');
    if (earlyFeaturedCard) {
        // Update the subtitle to include the amount
        const subtitle = earlyFeaturedCard.querySelector('.pricing-subtitle');
        if (subtitle) {
            subtitle.innerHTML = `Get <strong>${formattedEarlyAmount}</strong> Today`;
        }
        
        // Add a note about the amount in the How It Works section
        const howItWorksDiv = earlyFeaturedCard.querySelector('h3.pricing-title + div');
        if (howItWorksDiv) {
            howItWorksDiv.innerHTML = `We advance your tax benefit of ${formattedEarlyAmount} today and handle all the paperwork. We receive the full ${formattedBenefit} benefit when you file your state taxes.`;
        }
    }

    // Update pricing card display for the later tab
    const completeManagementCard = document.querySelector('#later .pricing-card:first-child');
    if (completeManagementCard) {
        const priceElement = completeManagementCard.querySelector('.price-period');
        if (priceElement) {
            priceElement.innerHTML = `<span style="font-size: 1.1rem; font-weight: 700;">or $89</span> when you receive your ${formattedBenefit} tax benefit`;
        }
    }

    // Update benefit details tooltip
    document.getElementById('benefitDetails').innerHTML = `
        Your tax benefit is based on:
        <br><br>
         ${stateOptions[state]} tax rate: ${(taxRate * 100).toFixed(1)}%
        <br>
         Maximum deduction: ${new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 0
        }).format(stateDeduction)}
        <br>
         Your eligible expenses: ${new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 0
        }).format(annualExpenses)}/year
        <br>
         Deductible amount: ${new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 0
        }).format(deductibleAmount)}
        <br>
        Your benefit is doubled if you are married.
    `;
    const overlay = document.getElementById('calculator-overlay');
    if (overlay) {
        overlay.style.display = 'none';
    }

    // Set calculator as completed
    window.calculatorCompleted = true;

    // Track calculation event
    window.dataLayer.push({
        'event': 'benefit_calculated',
        'user_id': generateUserId(),
        'income': income,
        'monthly_rent': monthlyRent,
        'monthly_grocery': monthlyGrocery,
        'calculated_benefit': benefit
    });

    // Add calculator-completed class to hide the message
    document.querySelector('.benefit-content-box').classList.add('calculator-completed');
}
        function getStateName(stateAbbr) {
            return stateOptions[stateAbbr] || stateAbbr;
        }
        function handleSchoolSearch(event) {
            const searchTerm = event.target.value.toLowerCase();
            const suggestionsDiv = document.getElementById('schoolSuggestions');
            const stateSelection = document.getElementById('stateSelection');
            
            // Clear and hide state selection
            stateSelection.classList.add('hidden');
            
            // Show suggestions if 2 or more characters
            if (searchTerm.length >= 2) {
                const suggestions = Object.entries(schoolsDB)
                    .filter(([id, school]) => 
                        id !== 'other' && 
                        school.name.toLowerCase().includes(searchTerm))
                    .slice(0, 10);

                suggestionsDiv.innerHTML = `
                    ${suggestions.map(([id, school]) => `
                        <div class="suggestion-item" onclick="selectSchool('${id}')">
                            <span class="school-name">${school.name}</span>
                            <span class="state-name">${getStateName(school.state)}</span>
                        </div>
                    `).join('')}
                    <div class="suggestion-item" onclick="showStateSelection()">
                        <span class="school-name">My School Isn't Listed Yet (click here)</span>
                    </div>`;
                
                suggestionsDiv.classList.remove('hidden');
            } else {
                suggestionsDiv.classList.add('hidden');
            }
        }
        function updateEarlyRefundCard(benefit) {
            const dailyRate = 0.05 / 365; // 5% APY converted to daily rate
            const lendingDays = 400;
            const serviceFee = 20;
            const baseFee = 89;
            
            // Calculate potential early amount for lending cost calculation
            const potentialEarlyAmount = benefit;
            const lendingCost = potentialEarlyAmount * (1 + dailyRate * lendingDays) - potentialEarlyAmount;
            
            // Total costs and calculate early amount
            const totalCosts = baseFee + serviceFee + lendingCost;
            const calculatedEarlyAmount = benefit - totalCosts;
            
            // Cap at 70% of benefit
            const maxEarlyAmount = benefit * 0.8;
            const earlyAmount = Math.min(calculatedEarlyAmount, maxEarlyAmount);
            
            // Only check if the amount is positive since we've already capped it
            const isViable = earlyAmount > 0;
            const finalAmount = isViable ? Math.floor(earlyAmount) : 0;
            
            const formattedEarlyAmount = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(finalAmount);
            
            // Update UI elements
            const earlyRefundAmount = document.getElementById('early-refund-amount');
            const ctaButton = document.getElementById('main-cta-button');
            const earlyRefundDetails = document.getElementById('early-refund-details');
            
            if (earlyRefundAmount) earlyRefundAmount.textContent = formattedEarlyAmount;
            if (ctaButton) {
                ctaButton.textContent = finalAmount > 0 ? 
                    `Get ${formattedEarlyAmount} Today` : 
                    'Open Account to Check Eligibility';
            }
        }

        // New function to show state selection
        function showStateSelection() {
            const searchInput = document.getElementById('schoolSearch');
            const stateSelection = document.getElementById('stateSelection');
            const stateSuggestions = document.getElementById('stateSuggestions');
            
            // Set input text
            searchInput.value = 'My School Isn\'t Listed Yet (click here)';
            
            // Populate state suggestions
            stateSuggestions.innerHTML = `
                ${Object.entries(stateOptions).map(([abbr, name]) => `
                    <div class="suggestion-item" onclick="selectState('${abbr}', '${name}')">
                        <span class="state-name">${name}</span>
                        <span class="state-abbr">(${abbr})</span>
                    </div>
                `).join('')}
            `;
            
            // Show the state suggestions
            stateSuggestions.classList.remove('hidden');
            stateSelection.classList.remove('hidden');
            
            // Hide school suggestions
            document.getElementById('schoolSuggestions').classList.add('hidden');
        }
        document.getElementById('incomeInput').addEventListener('input', function() {
            formatCurrency(this);
        });

        document.getElementById('rentInput').addEventListener('input', function() {
            formatCurrency(this);
        });

        // document.getElementById('groceryInput').addEventListener('input', function() {
        //     formatCurrency(this);
        // });
        document.addEventListener('DOMContentLoaded', function() {
          const tabButtons = document.querySelectorAll('.tab-button');
          
          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
              document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
              
              button.classList.add('active');
              document.getElementById(button.dataset.tab).classList.add('active');
            });
          });
          // Track income input
            trackFormInput('incomeInput', 'income_entered');
            
            // Track rent input
            trackFormInput('rentInput', 'rent_entered');
            
            // Track grocery input
            // trackFormInput('groceryInput', 'grocery_entered');
            
            // Track form completion
            document.getElementById('signup-form').addEventListener('submit', function(e) {
                window.dataLayer.push({
                    'event': 'form_completed',
                    'user_id': generateUserId()
                });
            });
            // document.querySelector('.getst-button').addEventListener('click', function(e) {
            //     window.dataLayer.push({
            //         'event': 'create_account_clicked',
            //         'user_id': generateUserId(),
            //         'button_location': 'main_page'
            //     });
            // });

            // Modified to not include email
            document.getElementById('emailForm').addEventListener('submit', function(e) {
                window.dataLayer.push({
                    'event': 'account_email_submitted',
                    'user_id': generateUserId()
                });
            });
            // Add this at the start of your window.onload or DOMContentLoaded handler
            window.addEventListener('load', function() {
                // Reset form fields
                document.getElementById('signup-form').reset();
                const overlay = document.getElementById('calculator-overlay');
                if (overlay) {
                    overlay.style.display = 'flex';
                }
                
                // Reset school search
                document.getElementById('schoolSearch').value = '';
                
                // Reset to first step
                currentStep = 1;
                showStep(1);
                
                // Clear selected state and school
                selectedState = null;
                selectedSchool = null;
                
                // Hide all suggestions
                document.getElementById('schoolSuggestions').classList.add('hidden');
                document.getElementById('stateSelection').classList.add('hidden');
                document.getElementById('stateSuggestions').classList.add('hidden');
                
                // Reset benefit display
                document.getElementById('benefitResult').textContent = '$0';
                
           });
            const ctaButton = document.getElementById('main-cta-button');
            // if (ctaButton) {
            //     ctaButton.addEventListener('click', function(e) {
            //         if (window.calculatorCompleted) {
            //             e.preventDefault();
            //             openEmailModal();
            //         }
            //     });
            // }
            
            // Reset calculator completion on page load
            window.addEventListener('load', function() {
                window.calculatorCompleted = false;
            });
        });


        function submitToGoogleForm(event) {
            event.preventDefault();
            
            const email = document.getElementById('emailInput').value;
            const googleFormUrl = `https://docs.google.com/forms/d/e/1FAIpQLScZ04ro2nS9fPEclOjblV8kv-rTFxQNH1pMN_xy8H1gbGKQtQ/formResponse?entry.1358827248=${encodeURIComponent(email)}`;
            
            // Create a hidden iframe to submit the form
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            document.body.appendChild(iframe);
            
            // Submit the form through the iframe
            iframe.src = googleFormUrl;
            
            // Create and show styled thank you message
            const thankYouModal = document.createElement('div');
            thankYouModal.style.position = 'fixed';
            thankYouModal.style.top = '0';
            thankYouModal.style.left = '0';
            thankYouModal.style.width = '100%';
            thankYouModal.style.height = '100%';
            thankYouModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
            thankYouModal.style.display = 'flex';
            thankYouModal.style.justifyContent = 'center';
            thankYouModal.style.alignItems = 'center';
            thankYouModal.style.zIndex = '2000';
            
            thankYouModal.innerHTML = `
                <div style="background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); max-width: 500px; width: 90%; text-align: center; position: relative;">
                    <div style="width: 48px; height: 48px; margin: 0 auto 1rem; background: linear-gradient(45deg, #4B227A, #FF69B4); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                    </div>
                    <h2 style="color: #4B227A; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Thank You for Subscribing!</h2>
                    <p style="color: #666; font-size: 1.1rem; margin-bottom: 2rem;">We'll keep you updated with the latest news and information about maximizing your benefits.</p>
                    <button style="background: linear-gradient(45deg, #4B227A, #FF69B4); color: white; padding: 0.75rem 2rem; border-radius: 10px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onclick="this.parentElement.parentElement.remove()">Continue</button>
                </div>
            `;
            
            document.body.appendChild(thankYouModal);
            
            // Clear the input
            document.getElementById('emailInput').value = '';
            
            // Remove the iframe after submission
            setTimeout(() => {
                document.body.removeChild(iframe);
            }, 1000);
        }

        
        // Add this new JavaScript code for the search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('stateSearch');
            const searchResults = document.getElementById('searchResults');
            const selectedStateInfo = document.getElementById('selectedStateInfo');

            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                searchResults.innerHTML = '';
                searchResults.style.display = 'none';

                if (searchTerm.length < 1) return;

                const matches = Object.entries(stateOptions).filter(([code, name]) => 
                    name.toLowerCase().includes(searchTerm) || code.toLowerCase().includes(searchTerm)
                );

                if (matches.length > 0) {
                    searchResults.style.display = 'block';
                    matches.forEach(([code, name]) => {
                        const div = document.createElement('div');
                        div.style.padding = '0.75rem 1rem';
                        div.style.cursor = 'pointer';
                        div.style.borderBottom = '1px solid #eee';
                        div.innerHTML = `${name} (${code})`;
                        
                        div.addEventListener('mouseover', () => {
                            div.style.backgroundColor = '#f0f0f0';
                        });
                        
                        div.addEventListener('mouseout', () => {
                            div.style.backgroundColor = 'white';
                        });
                        
                        div.addEventListener('click', () => {
                            const stateInfo = state529linkDB[code];
                            if (stateInfo) {
                                selectedStateInfo.innerHTML = `
                                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                                        <a href="${stateInfo.url}" target="_blank" 
                                           style="color: #0066cc; text-decoration: underline; font-weight: 500;">
                                            ${stateInfo.name} 
                                        </a>
                                        <div style="color: #4B227A; font-weight: 500;">
                                            Annual Savings: ${stateInfo.benefit}
                                        </div>
                                    </div>
                                `;
                                selectedStateInfo.style.display = 'block';
                            }
                            searchResults.style.display = 'none';
                            searchInput.value = name;
                        });
                        
                        searchResults.appendChild(div);
                    });
                }
            });

            // Close search results when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchResults.contains(e.target) && e.target !== searchInput) {
                    searchResults.style.display = 'none';
                }
            });
        });
        function handleScreenshots() {
            const scrollContainer = document.querySelector('.screenshot-scroll');
            const items = document.querySelectorAll('.screenshot-item');

            function updateActiveScreenshot() {
                const containerRect = scrollContainer.getBoundingClientRect();
                const containerCenter = containerRect.left + containerRect.width / 2;

                items.forEach(item => {
                    const rect = item.getBoundingClientRect();
                    const itemCenter = rect.left + (rect.width / 2);
                    const distanceFromCenter = Math.abs(containerCenter - itemCenter);
                    
                    if (distanceFromCenter < rect.width * 0.3) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

            scrollContainer.addEventListener('scroll', updateActiveScreenshot);
            
            // Set first item as active initially
            items[0].classList.add('active');
            
            // Initial check
            updateActiveScreenshot();
        }

        document.addEventListener('DOMContentLoaded', handleScreenshots);
    </script>

    <script>
        // Email Modal Functions
        function openEmailModal() {
            document.getElementById('emailModal').style.display = 'flex';
        }

        function closeEmailModal() {
            document.getElementById('emailModal').style.display = 'none';
        }

        // Close modal when clicking outside
        document.getElementById('emailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEmailModal();
            }
        });

        // Handle form submission
        document.getElementById('emailForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = encodeURIComponent(document.getElementById('emailInput').value);
            const baseUrl = 'https://docs.google.com/forms/d/e/1FAIpQLScZ04ro2nS9fPEclOjblV8kv-rTFxQNH1pMN_xy8H1gbGKQtQ/formResponse?usp=pp_url&entry.1358827248=';
            
            // Using a hidden iframe to submit the form without redirecting
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.setAttribute('src', baseUrl + email);
            document.body.appendChild(iframe);
            
            // Create and show styled thank you message
            const thankYouModal = document.createElement('div');
            thankYouModal.style.position = 'fixed';
            thankYouModal.style.top = '0';
            thankYouModal.style.left = '0';
            thankYouModal.style.width = '100%';
            thankYouModal.style.height = '100%';
            thankYouModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
            thankYouModal.style.display = 'flex';
            thankYouModal.style.justifyContent = 'center';
            thankYouModal.style.alignItems = 'center';
            thankYouModal.style.zIndex = '2000';
            
            thankYouModal.innerHTML = `
                <div style="background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); max-width: 500px; width: 90%; text-align: center; position: relative;">
                    <div style="width: 48px; height: 48px; margin: 0 auto 1rem; background: linear-gradient(45deg, #4B227A, #FF69B4); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                    </div>
                    <h2 style="color: #4B227A; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Welcome to Renest!</h2>
                    <p style="color: #666; font-size: 1.1rem; margin-bottom: 2rem;"> </p>
                    <button style="background: linear-gradient(45deg, #4B227A, #FF69B4); color: white; padding: 0.75rem 2rem; border-radius: 10px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onclick="this.parentElement.parentElement.remove()">Continue</button>
                </div>
            `;
            
            document.body.appendChild(thankYouModal);
            this.reset();
            closeEmailModal();
            
            // Remove iframe after submission
            setTimeout(() => {
                document.body.removeChild(iframe);
            }, 1000);
        });
    </script>
</body>
</html>